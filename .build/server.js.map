{"version":3,"file":"server.js","sources":["webpack:///webpack/bootstrap","webpack:///api/config/database.js","webpack:///api/config/helpers.js","webpack:///api/config/passport.js","webpack:///api/constants.js","webpack:///api/index.js","webpack:///api/models/BookingsModel.js","webpack:///api/models/GridFSModel.js","webpack:///api/models/RoomsModel.js","webpack:///api/models/UserModel.js","webpack:///api/routes/auth.js","webpack:///api/routes/bookings.js","webpack:///api/routes/index.js","webpack:///api/routes/rooms.js","webpack:///api/routes/uploads.js","webpack:///api/server.js","webpack:///api/ssr.js","webpack:///client/actions.js","webpack:///client/agent.js","webpack:///./client/assets/banner.jpg","webpack:///./client/assets/banner6.jpg","webpack:///./client/assets/defaultUserAvatar.png","webpack:///./client/assets/loader.gif","webpack:///client/components/404.js","webpack:///client/components/ErrorList.js","webpack:///client/components/Field.js","webpack:///client/components/GlobalErrors.js","webpack:///client/components/Input.js","webpack:///client/components/Loading.js","webpack:///client/components/Modal.js","webpack:///client/components/Room.js","webpack:///client/constants.js","webpack:///client/containers/App.js","webpack:///client/containers/Header.js","webpack:///client/containers/pages/Bookings.js","webpack:///client/containers/pages/Home.js","webpack:///client/containers/pages/Login.js","webpack:///client/containers/pages/Room.js","webpack:///client/containers/pages/RoomEditor.js","webpack:///client/containers/pages/Rooms.js","webpack:///client/containers/pages/Settings.js","webpack:///client/containers/pages/Signup.js","webpack:///client/containers/pages/YourRooms.js","webpack:///./client/index.html","webpack:///client/middleware.js","webpack:///client/reducers/auth.js","webpack:///client/reducers/bookings.js","webpack:///client/reducers/common.js","webpack:///client/reducers/home.js","webpack:///client/reducers/index.js","webpack:///client/reducers/roomEditor.js","webpack:///client/reducers/rooms.js","webpack:///client/store.js","webpack:///./client/styles/styles.scss?8c62","webpack:///config/webpack.client.dev.js","webpack:///(webpack)/hot/log-apply-result.js","webpack:///(webpack)/hot/log.js","webpack:///(webpack)/hot/poll.js","webpack:///external \"autoprefixer\"","webpack:///external \"babel-polyfill\"","webpack:///external \"bcrypt\"","webpack:///external \"body-parser\"","webpack:///external \"cors\"","webpack:///external \"envalid\"","webpack:///external \"express\"","webpack:///external \"express-session\"","webpack:///external \"express-validator/check\"","webpack:///external \"express-validator/filter\"","webpack:///external \"gridfs-stream\"","webpack:///external \"history/createMemoryHistory\"","webpack:///external \"http\"","webpack:///external \"jsonwebtoken\"","webpack:///external \"mini-css-extract-plugin\"","webpack:///external \"moment\"","webpack:///external \"mongoose\"","webpack:///external \"mongoose-validators\"","webpack:///external \"morgan\"","webpack:///external \"multer\"","webpack:///external \"passport\"","webpack:///external \"passport-local\"","webpack:///external \"path\"","webpack:///external \"react\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-redux\"","webpack:///external \"react-router-dom\"","webpack:///external \"react-router-redux\"","webpack:///external \"react-router-transition\"","webpack:///external \"redux\"","webpack:///external \"redux-devtools-extension\"","webpack:///external \"redux-logger\"","webpack:///external \"superagent\"","webpack:///external \"superagent-promise\"","webpack:///external \"util\"","webpack:///external \"uuid/v4\"","webpack:///external \"webpack\"","webpack:///external \"webpack-dev-middleware-webpack-2\"","webpack:///external \"webpack-hot-middleware\""],"sourcesContent":[" \t// eslint-disable-next-line no-unused-vars\n \tfunction hotDownloadUpdateChunk(chunkId) {\n \t\tvar chunk = require(\"./\" + \"\" + chunkId + \".\" + hotCurrentHash + \".hot-update.js\");\n \t\thotAddUpdateChunk(chunk.id, chunk.modules);\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotDownloadManifest() {\n \t\ttry {\n \t\t\tvar update = require(\"./\" + \"\" + hotCurrentHash + \".hot-update.json\");\n \t\t} catch (e) {\n \t\t\treturn Promise.resolve();\n \t\t}\n \t\treturn Promise.resolve(update);\n \t}\n\n \t//eslint-disable-next-line no-unused-vars\n \tfunction hotDisposeChunk(chunkId) {\n \t\tdelete installedChunks[chunkId];\n \t}\n\n \tvar hotApplyOnUpdate = true;\n \tvar hotCurrentHash = \"5c6f2415b3c1373c647f\"; // eslint-disable-line no-unused-vars\n \tvar hotRequestTimeout = 10000;\n \tvar hotCurrentModuleData = {};\n \tvar hotCurrentChildModule; // eslint-disable-line no-unused-vars\n \tvar hotCurrentParents = []; // eslint-disable-line no-unused-vars\n \tvar hotCurrentParentsTemp = []; // eslint-disable-line no-unused-vars\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotCreateRequire(moduleId) {\n \t\tvar me = installedModules[moduleId];\n \t\tif (!me) return __webpack_require__;\n \t\tvar fn = function(request) {\n \t\t\tif (me.hot.active) {\n \t\t\t\tif (installedModules[request]) {\n \t\t\t\t\tif (installedModules[request].parents.indexOf(moduleId) === -1)\n \t\t\t\t\t\tinstalledModules[request].parents.push(moduleId);\n \t\t\t\t} else {\n \t\t\t\t\thotCurrentParents = [moduleId];\n \t\t\t\t\thotCurrentChildModule = request;\n \t\t\t\t}\n \t\t\t\tif (me.children.indexOf(request) === -1) me.children.push(request);\n \t\t\t} else {\n \t\t\t\tconsole.warn(\n \t\t\t\t\t\"[HMR] unexpected require(\" +\n \t\t\t\t\t\trequest +\n \t\t\t\t\t\t\") from disposed module \" +\n \t\t\t\t\t\tmoduleId\n \t\t\t\t);\n \t\t\t\thotCurrentParents = [];\n \t\t\t}\n \t\t\treturn __webpack_require__(request);\n \t\t};\n \t\tvar ObjectFactory = function ObjectFactory(name) {\n \t\t\treturn {\n \t\t\t\tconfigurable: true,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: function() {\n \t\t\t\t\treturn __webpack_require__[name];\n \t\t\t\t},\n \t\t\t\tset: function(value) {\n \t\t\t\t\t__webpack_require__[name] = value;\n \t\t\t\t}\n \t\t\t};\n \t\t};\n \t\tfor (var name in __webpack_require__) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(__webpack_require__, name) &&\n \t\t\t\tname !== \"e\"\n \t\t\t) {\n \t\t\t\tObject.defineProperty(fn, name, ObjectFactory(name));\n \t\t\t}\n \t\t}\n \t\tfn.e = function(chunkId) {\n \t\t\tif (hotStatus === \"ready\") hotSetStatus(\"prepare\");\n \t\t\thotChunksLoading++;\n \t\t\treturn __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {\n \t\t\t\tfinishChunkLoading();\n \t\t\t\tthrow err;\n \t\t\t});\n\n \t\t\tfunction finishChunkLoading() {\n \t\t\t\thotChunksLoading--;\n \t\t\t\tif (hotStatus === \"prepare\") {\n \t\t\t\t\tif (!hotWaitingFilesMap[chunkId]) {\n \t\t\t\t\t\thotEnsureUpdateChunk(chunkId);\n \t\t\t\t\t}\n \t\t\t\t\tif (hotChunksLoading === 0 && hotWaitingFiles === 0) {\n \t\t\t\t\t\thotUpdateDownloaded();\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t};\n \t\treturn fn;\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotCreateModule(moduleId) {\n \t\tvar hot = {\n \t\t\t// private stuff\n \t\t\t_acceptedDependencies: {},\n \t\t\t_declinedDependencies: {},\n \t\t\t_selfAccepted: false,\n \t\t\t_selfDeclined: false,\n \t\t\t_disposeHandlers: [],\n \t\t\t_main: hotCurrentChildModule !== moduleId,\n\n \t\t\t// Module API\n \t\t\tactive: true,\n \t\t\taccept: function(dep, callback) {\n \t\t\t\tif (typeof dep === \"undefined\") hot._selfAccepted = true;\n \t\t\t\telse if (typeof dep === \"function\") hot._selfAccepted = dep;\n \t\t\t\telse if (typeof dep === \"object\")\n \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n \t\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback || function() {};\n \t\t\t\telse hot._acceptedDependencies[dep] = callback || function() {};\n \t\t\t},\n \t\t\tdecline: function(dep) {\n \t\t\t\tif (typeof dep === \"undefined\") hot._selfDeclined = true;\n \t\t\t\telse if (typeof dep === \"object\")\n \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n \t\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\n \t\t\t\telse hot._declinedDependencies[dep] = true;\n \t\t\t},\n \t\t\tdispose: function(callback) {\n \t\t\t\thot._disposeHandlers.push(callback);\n \t\t\t},\n \t\t\taddDisposeHandler: function(callback) {\n \t\t\t\thot._disposeHandlers.push(callback);\n \t\t\t},\n \t\t\tremoveDisposeHandler: function(callback) {\n \t\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\n \t\t\t\tif (idx >= 0) hot._disposeHandlers.splice(idx, 1);\n \t\t\t},\n\n \t\t\t// Management API\n \t\t\tcheck: hotCheck,\n \t\t\tapply: hotApply,\n \t\t\tstatus: function(l) {\n \t\t\t\tif (!l) return hotStatus;\n \t\t\t\thotStatusHandlers.push(l);\n \t\t\t},\n \t\t\taddStatusHandler: function(l) {\n \t\t\t\thotStatusHandlers.push(l);\n \t\t\t},\n \t\t\tremoveStatusHandler: function(l) {\n \t\t\t\tvar idx = hotStatusHandlers.indexOf(l);\n \t\t\t\tif (idx >= 0) hotStatusHandlers.splice(idx, 1);\n \t\t\t},\n\n \t\t\t//inherit from previous dispose call\n \t\t\tdata: hotCurrentModuleData[moduleId]\n \t\t};\n \t\thotCurrentChildModule = undefined;\n \t\treturn hot;\n \t}\n\n \tvar hotStatusHandlers = [];\n \tvar hotStatus = \"idle\";\n\n \tfunction hotSetStatus(newStatus) {\n \t\thotStatus = newStatus;\n \t\tfor (var i = 0; i < hotStatusHandlers.length; i++)\n \t\t\thotStatusHandlers[i].call(null, newStatus);\n \t}\n\n \t// while downloading\n \tvar hotWaitingFiles = 0;\n \tvar hotChunksLoading = 0;\n \tvar hotWaitingFilesMap = {};\n \tvar hotRequestedFilesMap = {};\n \tvar hotAvailableFilesMap = {};\n \tvar hotDeferred;\n\n \t// The update info\n \tvar hotUpdate, hotUpdateNewHash;\n\n \tfunction toModuleId(id) {\n \t\tvar isNumber = +id + \"\" === id;\n \t\treturn isNumber ? +id : id;\n \t}\n\n \tfunction hotCheck(apply) {\n \t\tif (hotStatus !== \"idle\")\n \t\t\tthrow new Error(\"check() is only allowed in idle status\");\n \t\thotApplyOnUpdate = apply;\n \t\thotSetStatus(\"check\");\n \t\treturn hotDownloadManifest(hotRequestTimeout).then(function(update) {\n \t\t\tif (!update) {\n \t\t\t\thotSetStatus(\"idle\");\n \t\t\t\treturn null;\n \t\t\t}\n \t\t\thotRequestedFilesMap = {};\n \t\t\thotWaitingFilesMap = {};\n \t\t\thotAvailableFilesMap = update.c;\n \t\t\thotUpdateNewHash = update.h;\n\n \t\t\thotSetStatus(\"prepare\");\n \t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\thotDeferred = {\n \t\t\t\t\tresolve: resolve,\n \t\t\t\t\treject: reject\n \t\t\t\t};\n \t\t\t});\n \t\t\thotUpdate = {};\n \t\t\tvar chunkId = \"main\";\n \t\t\t{\n \t\t\t\t// eslint-disable-line no-lone-blocks\n \t\t\t\t/*globals chunkId */\n \t\t\t\thotEnsureUpdateChunk(chunkId);\n \t\t\t}\n \t\t\tif (\n \t\t\t\thotStatus === \"prepare\" &&\n \t\t\t\thotChunksLoading === 0 &&\n \t\t\t\thotWaitingFiles === 0\n \t\t\t) {\n \t\t\t\thotUpdateDownloaded();\n \t\t\t}\n \t\t\treturn promise;\n \t\t});\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotAddUpdateChunk(chunkId, moreModules) {\n \t\tif (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])\n \t\t\treturn;\n \t\thotRequestedFilesMap[chunkId] = false;\n \t\tfor (var moduleId in moreModules) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\thotUpdate[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif (--hotWaitingFiles === 0 && hotChunksLoading === 0) {\n \t\t\thotUpdateDownloaded();\n \t\t}\n \t}\n\n \tfunction hotEnsureUpdateChunk(chunkId) {\n \t\tif (!hotAvailableFilesMap[chunkId]) {\n \t\t\thotWaitingFilesMap[chunkId] = true;\n \t\t} else {\n \t\t\thotRequestedFilesMap[chunkId] = true;\n \t\t\thotWaitingFiles++;\n \t\t\thotDownloadUpdateChunk(chunkId);\n \t\t}\n \t}\n\n \tfunction hotUpdateDownloaded() {\n \t\thotSetStatus(\"ready\");\n \t\tvar deferred = hotDeferred;\n \t\thotDeferred = null;\n \t\tif (!deferred) return;\n \t\tif (hotApplyOnUpdate) {\n \t\t\t// Wrap deferred object in Promise to mark it as a well-handled Promise to\n \t\t\t// avoid triggering uncaught exception warning in Chrome.\n \t\t\t// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666\n \t\t\tPromise.resolve()\n \t\t\t\t.then(function() {\n \t\t\t\t\treturn hotApply(hotApplyOnUpdate);\n \t\t\t\t})\n \t\t\t\t.then(\n \t\t\t\t\tfunction(result) {\n \t\t\t\t\t\tdeferred.resolve(result);\n \t\t\t\t\t},\n \t\t\t\t\tfunction(err) {\n \t\t\t\t\t\tdeferred.reject(err);\n \t\t\t\t\t}\n \t\t\t\t);\n \t\t} else {\n \t\t\tvar outdatedModules = [];\n \t\t\tfor (var id in hotUpdate) {\n \t\t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n \t\t\t\t\toutdatedModules.push(toModuleId(id));\n \t\t\t\t}\n \t\t\t}\n \t\t\tdeferred.resolve(outdatedModules);\n \t\t}\n \t}\n\n \tfunction hotApply(options) {\n \t\tif (hotStatus !== \"ready\")\n \t\t\tthrow new Error(\"apply() is only allowed in ready status\");\n \t\toptions = options || {};\n\n \t\tvar cb;\n \t\tvar i;\n \t\tvar j;\n \t\tvar module;\n \t\tvar moduleId;\n\n \t\tfunction getAffectedStuff(updateModuleId) {\n \t\t\tvar outdatedModules = [updateModuleId];\n \t\t\tvar outdatedDependencies = {};\n\n \t\t\tvar queue = outdatedModules.slice().map(function(id) {\n \t\t\t\treturn {\n \t\t\t\t\tchain: [id],\n \t\t\t\t\tid: id\n \t\t\t\t};\n \t\t\t});\n \t\t\twhile (queue.length > 0) {\n \t\t\t\tvar queueItem = queue.pop();\n \t\t\t\tvar moduleId = queueItem.id;\n \t\t\t\tvar chain = queueItem.chain;\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (!module || module.hot._selfAccepted) continue;\n \t\t\t\tif (module.hot._selfDeclined) {\n \t\t\t\t\treturn {\n \t\t\t\t\t\ttype: \"self-declined\",\n \t\t\t\t\t\tchain: chain,\n \t\t\t\t\t\tmoduleId: moduleId\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\tif (module.hot._main) {\n \t\t\t\t\treturn {\n \t\t\t\t\t\ttype: \"unaccepted\",\n \t\t\t\t\t\tchain: chain,\n \t\t\t\t\t\tmoduleId: moduleId\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\tfor (var i = 0; i < module.parents.length; i++) {\n \t\t\t\t\tvar parentId = module.parents[i];\n \t\t\t\t\tvar parent = installedModules[parentId];\n \t\t\t\t\tif (!parent) continue;\n \t\t\t\t\tif (parent.hot._declinedDependencies[moduleId]) {\n \t\t\t\t\t\treturn {\n \t\t\t\t\t\t\ttype: \"declined\",\n \t\t\t\t\t\t\tchain: chain.concat([parentId]),\n \t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\tparentId: parentId\n \t\t\t\t\t\t};\n \t\t\t\t\t}\n \t\t\t\t\tif (outdatedModules.indexOf(parentId) !== -1) continue;\n \t\t\t\t\tif (parent.hot._acceptedDependencies[moduleId]) {\n \t\t\t\t\t\tif (!outdatedDependencies[parentId])\n \t\t\t\t\t\t\toutdatedDependencies[parentId] = [];\n \t\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\n \t\t\t\t\t\tcontinue;\n \t\t\t\t\t}\n \t\t\t\t\tdelete outdatedDependencies[parentId];\n \t\t\t\t\toutdatedModules.push(parentId);\n \t\t\t\t\tqueue.push({\n \t\t\t\t\t\tchain: chain.concat([parentId]),\n \t\t\t\t\t\tid: parentId\n \t\t\t\t\t});\n \t\t\t\t}\n \t\t\t}\n\n \t\t\treturn {\n \t\t\t\ttype: \"accepted\",\n \t\t\t\tmoduleId: updateModuleId,\n \t\t\t\toutdatedModules: outdatedModules,\n \t\t\t\toutdatedDependencies: outdatedDependencies\n \t\t\t};\n \t\t}\n\n \t\tfunction addAllToSet(a, b) {\n \t\t\tfor (var i = 0; i < b.length; i++) {\n \t\t\t\tvar item = b[i];\n \t\t\t\tif (a.indexOf(item) === -1) a.push(item);\n \t\t\t}\n \t\t}\n\n \t\t// at begin all updates modules are outdated\n \t\t// the \"outdated\" status can propagate to parents if they don't accept the children\n \t\tvar outdatedDependencies = {};\n \t\tvar outdatedModules = [];\n \t\tvar appliedUpdate = {};\n\n \t\tvar warnUnexpectedRequire = function warnUnexpectedRequire() {\n \t\t\tconsole.warn(\n \t\t\t\t\"[HMR] unexpected require(\" + result.moduleId + \") to disposed module\"\n \t\t\t);\n \t\t};\n\n \t\tfor (var id in hotUpdate) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n \t\t\t\tmoduleId = toModuleId(id);\n \t\t\t\t/** @type {TODO} */\n \t\t\t\tvar result;\n \t\t\t\tif (hotUpdate[id]) {\n \t\t\t\t\tresult = getAffectedStuff(moduleId);\n \t\t\t\t} else {\n \t\t\t\t\tresult = {\n \t\t\t\t\t\ttype: \"disposed\",\n \t\t\t\t\t\tmoduleId: id\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\t/** @type {Error|false} */\n \t\t\t\tvar abortError = false;\n \t\t\t\tvar doApply = false;\n \t\t\t\tvar doDispose = false;\n \t\t\t\tvar chainInfo = \"\";\n \t\t\t\tif (result.chain) {\n \t\t\t\t\tchainInfo = \"\\nUpdate propagation: \" + result.chain.join(\" -> \");\n \t\t\t\t}\n \t\t\t\tswitch (result.type) {\n \t\t\t\t\tcase \"self-declined\":\n \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n \t\t\t\t\t\tif (!options.ignoreDeclined)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because of self decline: \" +\n \t\t\t\t\t\t\t\t\tresult.moduleId +\n \t\t\t\t\t\t\t\t\tchainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"declined\":\n \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n \t\t\t\t\t\tif (!options.ignoreDeclined)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because of declined dependency: \" +\n \t\t\t\t\t\t\t\t\tresult.moduleId +\n \t\t\t\t\t\t\t\t\t\" in \" +\n \t\t\t\t\t\t\t\t\tresult.parentId +\n \t\t\t\t\t\t\t\t\tchainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"unaccepted\":\n \t\t\t\t\t\tif (options.onUnaccepted) options.onUnaccepted(result);\n \t\t\t\t\t\tif (!options.ignoreUnaccepted)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because \" + moduleId + \" is not accepted\" + chainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"accepted\":\n \t\t\t\t\t\tif (options.onAccepted) options.onAccepted(result);\n \t\t\t\t\t\tdoApply = true;\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"disposed\":\n \t\t\t\t\t\tif (options.onDisposed) options.onDisposed(result);\n \t\t\t\t\t\tdoDispose = true;\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tdefault:\n \t\t\t\t\t\tthrow new Error(\"Unexception type \" + result.type);\n \t\t\t\t}\n \t\t\t\tif (abortError) {\n \t\t\t\t\thotSetStatus(\"abort\");\n \t\t\t\t\treturn Promise.reject(abortError);\n \t\t\t\t}\n \t\t\t\tif (doApply) {\n \t\t\t\t\tappliedUpdate[moduleId] = hotUpdate[moduleId];\n \t\t\t\t\taddAllToSet(outdatedModules, result.outdatedModules);\n \t\t\t\t\tfor (moduleId in result.outdatedDependencies) {\n \t\t\t\t\t\tif (\n \t\t\t\t\t\t\tObject.prototype.hasOwnProperty.call(\n \t\t\t\t\t\t\t\tresult.outdatedDependencies,\n \t\t\t\t\t\t\t\tmoduleId\n \t\t\t\t\t\t\t)\n \t\t\t\t\t\t) {\n \t\t\t\t\t\t\tif (!outdatedDependencies[moduleId])\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\n \t\t\t\t\t\t\taddAllToSet(\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId],\n \t\t\t\t\t\t\t\tresult.outdatedDependencies[moduleId]\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t\tif (doDispose) {\n \t\t\t\t\taddAllToSet(outdatedModules, [result.moduleId]);\n \t\t\t\t\tappliedUpdate[moduleId] = warnUnexpectedRequire;\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Store self accepted outdated modules to require them later by the module system\n \t\tvar outdatedSelfAcceptedModules = [];\n \t\tfor (i = 0; i < outdatedModules.length; i++) {\n \t\t\tmoduleId = outdatedModules[i];\n \t\t\tif (\n \t\t\t\tinstalledModules[moduleId] &&\n \t\t\t\tinstalledModules[moduleId].hot._selfAccepted\n \t\t\t)\n \t\t\t\toutdatedSelfAcceptedModules.push({\n \t\t\t\t\tmodule: moduleId,\n \t\t\t\t\terrorHandler: installedModules[moduleId].hot._selfAccepted\n \t\t\t\t});\n \t\t}\n\n \t\t// Now in \"dispose\" phase\n \t\thotSetStatus(\"dispose\");\n \t\tObject.keys(hotAvailableFilesMap).forEach(function(chunkId) {\n \t\t\tif (hotAvailableFilesMap[chunkId] === false) {\n \t\t\t\thotDisposeChunk(chunkId);\n \t\t\t}\n \t\t});\n\n \t\tvar idx;\n \t\tvar queue = outdatedModules.slice();\n \t\twhile (queue.length > 0) {\n \t\t\tmoduleId = queue.pop();\n \t\t\tmodule = installedModules[moduleId];\n \t\t\tif (!module) continue;\n\n \t\t\tvar data = {};\n\n \t\t\t// Call dispose handlers\n \t\t\tvar disposeHandlers = module.hot._disposeHandlers;\n \t\t\tfor (j = 0; j < disposeHandlers.length; j++) {\n \t\t\t\tcb = disposeHandlers[j];\n \t\t\t\tcb(data);\n \t\t\t}\n \t\t\thotCurrentModuleData[moduleId] = data;\n\n \t\t\t// disable module (this disables requires from this module)\n \t\t\tmodule.hot.active = false;\n\n \t\t\t// remove module from cache\n \t\t\tdelete installedModules[moduleId];\n\n \t\t\t// when disposing there is no need to call dispose handler\n \t\t\tdelete outdatedDependencies[moduleId];\n\n \t\t\t// remove \"parents\" references from all children\n \t\t\tfor (j = 0; j < module.children.length; j++) {\n \t\t\t\tvar child = installedModules[module.children[j]];\n \t\t\t\tif (!child) continue;\n \t\t\t\tidx = child.parents.indexOf(moduleId);\n \t\t\t\tif (idx >= 0) {\n \t\t\t\t\tchild.parents.splice(idx, 1);\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// remove outdated dependency from module children\n \t\tvar dependency;\n \t\tvar moduleOutdatedDependencies;\n \t\tfor (moduleId in outdatedDependencies) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n \t\t\t) {\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (module) {\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n \t\t\t\t\tfor (j = 0; j < moduleOutdatedDependencies.length; j++) {\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[j];\n \t\t\t\t\t\tidx = module.children.indexOf(dependency);\n \t\t\t\t\t\tif (idx >= 0) module.children.splice(idx, 1);\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Not in \"apply\" phase\n \t\thotSetStatus(\"apply\");\n\n \t\thotCurrentHash = hotUpdateNewHash;\n\n \t\t// insert new code\n \t\tfor (moduleId in appliedUpdate) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {\n \t\t\t\tmodules[moduleId] = appliedUpdate[moduleId];\n \t\t\t}\n \t\t}\n\n \t\t// call accept handlers\n \t\tvar error = null;\n \t\tfor (moduleId in outdatedDependencies) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n \t\t\t) {\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (module) {\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n \t\t\t\t\tvar callbacks = [];\n \t\t\t\t\tfor (i = 0; i < moduleOutdatedDependencies.length; i++) {\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[i];\n \t\t\t\t\t\tcb = module.hot._acceptedDependencies[dependency];\n \t\t\t\t\t\tif (cb) {\n \t\t\t\t\t\t\tif (callbacks.indexOf(cb) !== -1) continue;\n \t\t\t\t\t\t\tcallbacks.push(cb);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t\tfor (i = 0; i < callbacks.length; i++) {\n \t\t\t\t\t\tcb = callbacks[i];\n \t\t\t\t\t\ttry {\n \t\t\t\t\t\t\tcb(moduleOutdatedDependencies);\n \t\t\t\t\t\t} catch (err) {\n \t\t\t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\t\t\ttype: \"accept-errored\",\n \t\t\t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\t\t\tdependencyId: moduleOutdatedDependencies[i],\n \t\t\t\t\t\t\t\t\terror: err\n \t\t\t\t\t\t\t\t});\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Load self accepted modules\n \t\tfor (i = 0; i < outdatedSelfAcceptedModules.length; i++) {\n \t\t\tvar item = outdatedSelfAcceptedModules[i];\n \t\t\tmoduleId = item.module;\n \t\t\thotCurrentParents = [moduleId];\n \t\t\ttry {\n \t\t\t\t__webpack_require__(moduleId);\n \t\t\t} catch (err) {\n \t\t\t\tif (typeof item.errorHandler === \"function\") {\n \t\t\t\t\ttry {\n \t\t\t\t\t\titem.errorHandler(err);\n \t\t\t\t\t} catch (err2) {\n \t\t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\t\ttype: \"self-accept-error-handler-errored\",\n \t\t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\t\terror: err2,\n \t\t\t\t\t\t\t\toriginalError: err\n \t\t\t\t\t\t\t});\n \t\t\t\t\t\t}\n \t\t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\t\tif (!error) error = err2;\n \t\t\t\t\t\t}\n \t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t}\n \t\t\t\t} else {\n \t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\ttype: \"self-accept-errored\",\n \t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\terror: err\n \t\t\t\t\t\t});\n \t\t\t\t\t}\n \t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// handle errors in accept handlers and self accepted module load\n \t\tif (error) {\n \t\t\thotSetStatus(\"fail\");\n \t\t\treturn Promise.reject(error);\n \t\t}\n\n \t\thotSetStatus(\"idle\");\n \t\treturn new Promise(function(resolve) {\n \t\t\tresolve(outdatedModules);\n \t\t});\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {},\n \t\t\thot: hotCreateModule(moduleId),\n \t\t\tparents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),\n \t\t\tchildren: []\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/\";\n\n \t// __webpack_hash__\n \t__webpack_require__.h = function() { return hotCurrentHash; };\n\n\n \t// Load entry module and return exports\n \treturn hotCreateRequire(0)(__webpack_require__.s = 0);\n","import { MONGO_DB_URI } from '../constants';\r\n\r\n// DB Config. Requires Express.js\r\nexport const connectMongoose = (api) => {\r\n\r\n\t/* Requires */\r\n\tconst mongoose = require('mongoose');\r\n\tconst Grid = require('gridfs-stream');\r\n\r\n\t// Config\r\n\tmongoose.Promise = global.Promise;\r\n\tGrid.mongo = mongoose.mongo;\r\n\r\n\t// Define Error Handler for All Mongo Errors into JSON.\r\n\tmongoose.Model.MongoErrors = function(errs) {\r\n\t\tlet data = [];\r\n\t\tlet counter = 0;\r\n\t\tfor (var label in errs.errors) {\r\n\t\t\tconsole.log(errs)\r\n\t\t\tconst msg = errs.errors[label].properties.message;\r\n\t    data[counter] = msg;\r\n\t\t\tcounter++;\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n\r\n\t// Connect to MongoDB\r\n\tmongoose.connect(MONGO_DB_URI, function (err, res) {\r\n\t\t// mongoose.connection.db.dropDatabase();\r\n\t  if (err) {\r\n\t    console.log('[DB] Connection to MongoDB failed!. ' + err);\r\n\t  } else {\r\n\t    console.log('[DB] Successfully connected to MongoDB Server');\r\n\r\n\t\t\t// On Success, connect GridFS to mongoose.db instance.\r\n\t\t\tconst gridfs = new Grid(mongoose.connection.db);\r\n\r\n\t\t\t// Make it available to express.\r\n\t\t\tapi.set('gridfs', gridfs);\r\n\r\n\t\t\t// Setup GridFS Mongoose Model for Other Models to reference.\r\n\t\t\tconst GFS = require('../models/GridFSModel');\r\n\t  }\r\n\t});\r\n}\r\n","import uuidv4 from 'uuid/v4';\r\nimport jwt from 'jsonwebtoken';\r\nimport { SECRET } from '../constants';\r\n\r\n// Token Expiry default\r\nconst expiresDefault = '1d';\r\n\r\n// Validation middleware to check for a token in the req.header.\r\nexport function validateToken(req, res, next) {\r\n  // Ensure a token was provided.\r\n  if (!req.headers.authorization) {\r\n    console.log('[REQUEST VERIFICATION] -- Bad request headers!', req.headers);\r\n    res.json({error: true, errors: ['This request did not have a valid token!']});\r\n  } else if(!req.headers.authorization.split(' ')[0] === 'Token') {\r\n    console.log('[REQUEST VERIFICATION] -- Missing Token in auth header!', req.headers);\r\n    res.json({error: true, errors: ['This request did not have a valid token!']});\r\n  } else {\r\n\r\n    // Parse token from string\r\n    let token = req.headers.authorization.split(' ')[1];\r\n    // Verify the token\r\n    if (verify(token)) {\r\n      console.log('[REQUEST VERIFICATION] -- Token verified!');\r\n      next(); // pass to next middleware\r\n    } else {\r\n      console.log('[REQUEST VERIFICATION] -- Token verification failed! Session destoryed!');\r\n      // Destroy passport session.\r\n      req.logout();\r\n      req.session.destroy();\r\n      // Tell the user what happened.\r\n  \t\tres.json({error: true, errors: ['Invalid Token']});\r\n    }\r\n  }\r\n}\r\n\r\n// create JWT\r\nexport function generateToken(req, GUID, opts) {\r\n  opts = opts || {};\r\n  const token = jwt.sign({\r\n    auth:  GUID,\r\n    agent: req.headers['user-agent']\r\n  }, SECRET, { expiresIn: opts.expires || expiresDefault });\r\n\tconsole.log('[REQUEST VERIFICATION] -- token generated: ', token);\r\n  return token;\r\n}\r\n\r\n// Store the token in the user's metaData.\r\nexport function generateAndStoreToken(req, user, opts) {\r\n  const GUID   = uuidv4(); // Generate UUIDv4.\r\n  const token  = generateToken(req, GUID, opts); // Generate Token\r\n\r\n\t// Define a schema friendly object for the user.\r\n\tconst record = {\r\n    key: token,\r\n    valid: true,\r\n    created_at: new Date().getTime()\r\n  };\r\n\r\n \t// Save token to user.\r\n\tuser.set('token', record);\r\n  user.save(function (err, user) {\r\n\t\tconsole.log('[REQUEST VERIFICATION] -- Token saved to user!');\r\n    if (err || !user) return err;\r\n\t\tif (user) {\r\n\r\n\t\t}\r\n  });\r\n\t// Return token\r\n\treturn record.key;\r\n}\r\n\r\n// Token verifier\r\nexport function verify(token) {\r\n  let decoded = false;\r\n\r\n\t// Attempt to decode our token and verify.\r\n\ttry {\r\n    decoded = jwt.verify(token, SECRET);\r\n  } catch (e) {\r\n    decoded = false; // still false\r\n  }\r\n\r\n\t// Did we decode properly?\r\n  return decoded;\r\n}\r\n","/* Necessary Models */\r\nvar Users = require('../models/UserModel').UserModel;\r\n\r\n// Passort.js\r\nvar passport = require('passport');\r\nvar LocalStrategy = require('passport-local').Strategy;\r\n\r\n/* Validation Library */\r\nconst { check, validationResult } = require('express-validator/check');\r\nconst { matchedData } = require('express-validator/filter');\r\n\r\n// Serialize The User.\r\npassport.serializeUser(function(user, done) {\r\n  done(null, user);\r\n});\r\n\r\n// Deserialize The User\r\npassport.deserializeUser(function(user, done) {\r\n  done(null, user);\r\n});\r\n\r\n// Proccess user login\r\n/* Accepets:\r\n  Username @string\r\n  Password @string\r\n*/\r\npassport.use(new LocalStrategy({usernameField: 'email'}, function(username, password, done) {\r\n\r\n    // Grab our user from the database by their username\r\n    Users.findOne({ email: username }).select('+salt').exec(function (err, user) {\r\n      // If the User is not Found\r\n      if (err) {\r\n        return done('User Not Found');\r\n      }\r\n\r\n      // Check for user data\r\n      if (!user) {\r\n        return done(null, false, 'Incorrect username.');\r\n      }\r\n\r\n      // Validate PW\r\n      user.validPassword(password, function(err, isMatch) {\r\n        // If the password was false\r\n        if (err) return done(null, false, 'Authentication Error');\r\n\r\n        // If the password was correct\r\n        if (isMatch) {\r\n          // Send Success Message, along with the user data\r\n          return done(null, user, 'Login Successful');\r\n        } else {\r\n          return done(null, false, 'Incorrect Password')\r\n        }\r\n      });\r\n    });\r\n  }\r\n));\r\n\r\nmodule.exports = passport;\r\n","import { cleanEnv, num, str } from 'envalid';\r\n\r\nconst env = cleanEnv(process.env, {\r\n  PORT: num({ default: process.env.PORT || 3000 }),\r\n  MONGO_DB_URI: str(),\r\n  SECRET: str()\r\n});\r\n\r\nexport const { PORT, MONGO_DB_URI, SECRET } = env;\r\n\r\nexport default env;\r\n","import { createServer } from 'http';\r\n\r\nimport api from './server';\r\nimport { PORT } from './constants';\r\nconsole.log('[SERVER] Bed\\'N\\'Blockchain API starting....');\r\nconst SERVER_START = `[SERVER] Bed\\'N\\'Blockchain API sucessfully started on ${PORT}!`;\r\nconsole.time(SERVER_START);\r\nconst server = createServer(api);\r\nserver.listen(PORT, () => console.timeEnd(SERVER_START));\r\n\r\nif (process.env.NODE_ENV === 'development' && module.hot) {\r\n  let currentApp = api;\r\n  module.hot.accept('./server', () => {\r\n    server.removeListener('request', currentApp);\r\n    const hotApp = require('./server').default;\r\n    server.on('request', hotApp);\r\n    currentApp = hotApp;\r\n  });\r\n}\r\n","/* Requires */\r\nconst mongoose = require('mongoose');\r\nconst validators = require('mongoose-validators');\r\nconst Schema = mongoose.Schema;\r\n\r\n// Define Booking Schema\r\nconst BookingsSchema = new Schema({\r\n  ownerId: {\r\n\t\ttype: mongoose.Schema.Types.ObjectId, \r\n\t\tref: 'Users',\r\n\t\trequired: [true, 'An ownerId is required!']\r\n\t},\r\n  roomId: {\r\n\t\ttype: mongoose.Schema.Types.ObjectId,\r\n\t\tref: 'Rooms',\r\n\t\trequired: [true, 'A roomId is required!']\r\n\t},\r\n  buyerId: {\r\n\t\ttype: mongoose.Schema.Types.ObjectId,\r\n\t\tref: 'Users',\r\n\t\trequired: [true, 'A buyerId is required!']\r\n\t},\r\n  price: {type: Number, required: [true, 'A price is required!']},\r\n  guests: {\r\n    adults: {type: Number, required: [true, 'Number of adult guests is required!']},\r\n    children: {type: Number, required: [true, 'Number of children guests is required!']}\r\n  },\r\n\tcreated_at: Date,\r\n\tupdated_at: Date\r\n});\r\n\r\n// Before a booking is saved into the Database\r\nBookingsSchema.pre('save', function(next) {\r\n\r\n\t// Grab the booking during this request\r\n  const booking = this;\r\n\r\n\tconsole.log(booking);\r\n\r\n\t// change the updated_at field to current date\r\n\tconst currentDate = new Date();\r\n\tbooking.updated_at = currentDate;\r\n\r\n\t// if created_at doesn't exist, add to that field\r\n\tif (!booking.created_at) booking.created_at = currentDate;\r\n\r\n\tnext();\r\n});\r\n\r\n// Export Models\r\nexports.BookingsModel = mongoose.model('Bookings', BookingsSchema);\r\n","/* Requires */\r\nconst mongoose = require('mongoose');\r\nconst Schema = mongoose.Schema;\r\n\r\n// Export Models\r\nexports.GridFSModel = mongoose.model(\"GridFS\", new Schema({}, {strict: false}), \"fs.files\" );\r\n","/* Requires */\r\nconst mongoose = require('mongoose');\r\nconst validators = require('mongoose-validators');\r\nconst Schema = mongoose.Schema;\r\n\r\n// Valid Select Field Types\r\nconst HomeTypes = [\r\n  'Entire Place',\r\n  'Private Room',\r\n  'Shared Room'\r\n];\r\nconst PropertyTypes = [\r\n  'House',\r\n  'Bed and Breakfast',\r\n  'Bungalow',\r\n  'Chalet',\r\n  'Cottage',\r\n  'Guesthouse',\r\n  'Guest suite',\r\n  'Hotel',\r\n  'Resort',\r\n  'Loft',\r\n  'Townhouse',\r\n  'Villa'\r\n];\r\n\r\n// Define Room Schema\r\nconst RoomsSchema = new Schema({\r\n  ownerId: {type: mongoose.Schema.Types.ObjectId, ref: 'Users'},\r\n  title: {type: String, required: [true, 'A title is required!']},\r\n  description: {type: String, required: [true, 'A description is required!']},\r\n  propertyType: {type: String, required: [true, 'A Property Type is required!']},\r\n  roomType: {type: String, required: [true, 'A Room Type is required!']},\r\n  location: {\r\n    formatted_address: {type: String, required: [true, 'A formatted address is required!']},\r\n    lat: {type: Number, required: [true, 'A latitude is required!']},\r\n    lng: {type: Number, required: [true, 'A longtitude is required!']}\r\n  },\r\n  price: {type: Number, required: [true, 'A price is required!']},\r\n  guests: {\r\n    adults: {type: Number, required: [true, 'Number of adult guests is required!']},\r\n    children: {type: Number, required: [true, 'Number of children guests is required!']}\r\n  },\r\n  features: String,\r\n  booked: {type: Boolean, default: false},\r\n  availability: {\r\n    start: Date,\r\n    end: Date\r\n  },\r\n\tfeaturedImageId: {type: mongoose.Schema.Types.ObjectId, ref: 'GridFS'},\r\n  created_at: Date,\r\n\tupdated_at: Date\r\n});\r\n\r\n// Before a room is saved into the Database\r\nRoomsSchema.pre('save', function(next) {\r\n\r\n\t// Grab the room during this request\r\n  const room = this;\r\n\r\n\tconsole.log(room);\r\n\r\n\t// change the updated_at field to current date\r\n\tconst currentDate = new Date();\r\n\troom.updated_at = currentDate;\r\n\r\n\t// if created_at doesn't exist, add to that field\r\n\tif (!room.created_at) room.created_at = currentDate;\r\n\r\n\tnext();\r\n});\r\n\r\n// Export Models\r\nexports.RoomsModel = mongoose.model('Rooms', RoomsSchema);\r\n","/* Requires */\r\nvar mongoose = require('mongoose');\r\nvar validators = require('mongoose-validators');\r\nvar Schema = mongoose.Schema;\r\n\r\n/* Utilities */\r\nvar bcrypt = require('bcrypt');\r\nconst SALT_WORK_FACTOR = 10;\r\n\r\n// Define User Schema\r\nvar UserSchema = new Schema({\r\n\ttoken: {\r\n\t\tkey: String,\r\n\t\tvalid: {type: Boolean, select: false},\r\n\t\tcreated_at: {type: Date, select: false}\r\n\t},\r\n\tfirstname:\t{ type: String, trim: true },\r\n\tlastname:\t{ type: String, trim: true },\r\n\temail:\t{\r\n\t\ttype: String,\r\n\t\trequired: [true, 'An email is required!'],\r\n\t\tunique: [true, 'Email already taken!'],\r\n\t\ttrim: true,\r\n\t\tlowercase: true,\r\n\t\tvalidate: [validators.isEmail({message: 'Invalid Email'})]\r\n\t},\r\n\tpassword:\t{ type: String, required: true },\r\n\tsalt: { type: String, select: false },\r\n\tavatar: {\r\n\t\tdata: Buffer,\r\n\t\tcontentType: String\r\n\t},\r\n\tadmin: Boolean,\r\n\tmeta: {\r\n\t\tage: Number,\r\n\t\twebsite: String\r\n\t},\r\n\tcreated_at: Date,\r\n\tupdated_at: Date\r\n});\r\n\r\n// Before a user is saved into the Database\r\nUserSchema.pre('save', function(next) {\r\n\r\n\t// Grab the user during this request\r\n  var user = this;\r\n\r\n\t// change the updated_at field to current date\r\n\tvar currentDate = new Date();\r\n\tuser.updated_at = currentDate;\r\n\r\n\t// if created_at doesn't exist, add to that field\r\n\tif (!user.created_at) user.created_at = currentDate;\r\n\r\n\t// only hash the password if it has been modified (or is new)\r\n\tif (!user.isModified('password')) return next();\r\n\r\n\t// generate a salt\r\n\tbcrypt.genSalt(SALT_WORK_FACTOR, function(err, salt) {\r\n\r\n\t  if (err) return next(err);\r\n\r\n    // hash the password using our new salt\r\n    bcrypt.hash(user.password, salt, function(err, hash) {\r\n      if (err) return next(err);\r\n\r\n      // Update the user's password and salt fields for database entry.\r\n      user.password = hash;\r\n      user.salt = salt;\r\n      next();\r\n  \t});\r\n\t});\r\n});\r\n\r\n// Password Verification\r\nUserSchema.methods.validPassword = function(candidatePassword, cb) {\r\n\t// Grab the user's Salt\r\n\tvar salt = this.salt;\r\n\t// Grab the user's hashed password\r\n\tvar password = this.password;\r\n\r\n\t// If we are going to return data to another server process\r\n\tif (cb && cb instanceof Function) {\r\n\r\n\t\t// Hash the Candiate Password to Compare against our salt.\r\n\t\tbcrypt.hash(candidatePassword, salt, function(err, candidateHash) {\r\n\t\t\t// Hashing Error\r\n\t\t\tif (err) return cb(err);\r\n\r\n\t\t\t// Comparison Check\r\n\t\t\tif (candidateHash === password) {\r\n\t\t\t\tcb(null, true); // True\r\n\t\t\t} else {\r\n\t\t\t\tcb(err, false); // False\r\n\t\t\t}\r\n\t\t});\r\n\t// Else, we just send a true/false.\r\n\t} else {\r\n\r\n\t\t// Generate a hash from the attempted password\r\n\t\tvar hash = bcrypt.hashSync(candidatePassword, salt);\r\n\r\n\t\t// Comparison Check\r\n\t\tif (hash === password) {\r\n\t\t\treturn true; // True\r\n\t\t} else {\r\n\t\t\treturn false; // False\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Export Models\r\nexports.UserModel = mongoose.model('Users', UserSchema);\r\n","/* Express Router */\r\nvar express = require('express');\r\nvar auth = express.Router();\r\n\r\n/* Necessary Models */\r\nvar Users = require('../models/UserModel').UserModel;\r\n\r\n/* User Auth Library */\r\nvar passport = require('passport');\r\n\r\n/* Validation Library */\r\nconst { check, validationResult } = require('express-validator/check');\r\nconst { matchedData } = require('express-validator/filter');\r\n\r\n/* Helpers */\r\nconst helpers = require('../config/helpers.js');\r\nconst extend = require('util')._extend;\r\n\r\n// Login Submit Handling\r\nauth.post('/login', function(req, res, next) {\r\n\tpassport.authenticate('local', function(err, user, message) {\r\n\t\t// Throw Any Errors\r\n\t\tif (err) return res.json({error: true, errors: [message]});\r\n\r\n\t\t// Incorrect Username Error\r\n\t\tif (!user) return res.json({error: true, errors: [message]});\r\n\r\n\t\t// Submit login request using the user found in this request.\r\n\t\treq.logIn(user, function (err) {\r\n\t\t    if (err) return next(err);\r\n\t\t\t\tconst payload = {user: {\r\n\t\t\t\t\tid: user._id,\r\n\t\t\t\t\temail: user.email,\r\n\t\t\t\t\ttoken: helpers.generateAndStoreToken(req, user),\r\n\t\t\t\t\tcreated_at: user.created_at,\r\n\t\t\t\t\tupdated_at: user.updated_at\r\n\t\t\t\t}};\r\n\t\t\t\treturn res.json({payload});\r\n\t\t});\r\n\t})(req, res, next);\r\n});\r\n\r\nauth.get('/', helpers.validateToken, function(req, res, next) {\r\n\tlet token = req.headers.authorization.split(' ')[1];\r\n\r\n\tUsers.findOne({ 'token.key': token }).lean().exec(function (err, user) {\r\n\t\t\tif (err || !user) {\r\n\t\t\t\tres.json({error: true, errors: ['Token not associated to a User!']});\r\n\t\t\t}\r\n\t\t\tif (user) {\r\n\t\t\t\tconst payload = {user: {\r\n\t\t\t\t\tid: user._id,\r\n\t\t\t\t\temail: user.email,\r\n\t\t\t\t\ttoken: user.token.key,\r\n\t\t\t\t\tcreated_at: user.created_at,\r\n\t\t\t\t\tupdated_at: user.updated_at\r\n\t\t\t\t}};\r\n\t\t\t\tres.json({payload});\r\n\t\t\t}\r\n\t\t});\r\n});\r\n\r\n// Register a new User\r\nauth.post('/signup', function(req, res, next) {\r\n\tvar errors = [];\r\n\tif (!req.body.email) errors.push({key: 'email', message: 'This field is required'});\r\n\tif (!req.body.password) errors.push({key: 'password', message: 'This field is required'});\r\n\tif (!req.body.passwordConfirm) errors.push({key: 'passwordConfirm', message: 'This field is required'});\r\n\r\n\t// If we had errors\r\n\tif (errors.length > 0) {\r\n\t\treturn res.json(errors);\r\n\t// If Passwords didnt Match\r\n\t} else if (req.body.password !== req.body.passwordConfirm) {\r\n\t\terrors.push({key: 'password', message: 'Passwords Do Not Match'});\r\n\t\terrors.push({key: 'passwordConfirm', message: 'Passwords Do Not Match'});\r\n\t\treturn res.json({error: true, payload: {errors}});\r\n\t} else {\r\n\r\n\t\t// Delete the confirmed password and pass req.body\r\n\t\tdelete req.body.passwordConfirm;\r\n\r\n\t\t// Create the user\r\n\t\tUsers.create(req.body, function(err, user) {\r\n\t\t\tif (err) {\r\n\t\t\t\tif (err.code === 11000) {\r\n\t\t\t\t\treturn res.json({error: true, errors: ['Email Already Registered!']});\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn res.json({error: true, errors: [Users.MongoErrors(err)]});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (user.created_at) {\r\n\t\t\t\t// Authenticate them through Passport.js through our API.\r\n\t\t\t\treq.login(user, function (err) {\r\n\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\tconst payload = {user: {\r\n\t\t\t\t\t\t\tid: user._id,\r\n\t\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t\t\tupdated_at: user.updated_at,\r\n\t\t\t\t\t\t\tcreated_at: user.created_at,\r\n\t\t\t\t\t\t\ttoken: helpers.generateAndStoreToken(req, user)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\treturn res.json({payload});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn res.json({\r\n\t\t\t\t\t\t\terror: true,\r\n\t\t\t\t\t\t\tpayload: {errors: 'Something Unexpected Happened'}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});\r\n\r\nmodule.exports = auth;\r\n","/* Express Router */\r\nconst express = require('express');\r\nconst bookings = express.Router();\r\n\r\n/* Necessary Models */\r\nconst Bookings = require('../models/BookingsModel').BookingsModel;\r\nconst Rooms = require('../models/RoomsModel').RoomsModel;\r\n\r\n/* Helpers */\r\nconst helpers = require('../config/helpers.js');\r\n\r\n// Add a new booking\r\nbookings.put('/add', helpers.validateToken, function(req, res, next) {\r\n\tconsole.log('req body data', req.body);\r\n\t// Define a schema safe object\r\n\tconst bookingData = {\r\n    ownerId: req.body.ownerId,\r\n    roomId: req.body.roomId,\r\n    buyerId: req.body.buyerId,\r\n    price: req.body.price,\r\n    guests: req.body.guests\r\n\t};\r\n\t// console.log('We got req data and stuff', req.body, bookingData);\r\n\t// Create a booking\r\n\tBookings.create(bookingData, function(err, booking) {\r\n  \t// console.log(err, booking);\r\n  \tif (err || !booking) return res.json({error: true, errors: Bookings.MongoErrors(err)});\r\n\t\tif (booking) {\r\n\t\t\t// Quick update the Room booked to have a {booked: true} status.\r\n      Rooms.findByIdAndUpdate(\r\n        booking.roomId,\r\n        {$set: {booked: true}},\r\n        {new: true, runValidators: true}\r\n      ).exec(function(err, room) {\r\n      \tif (err || !room) return res.json({error: true, errors: Rooms.MongoErrors(err)});\r\n    \t\tif (room) {\r\n\t\t\t\t\t// If we Successfully updated the room, then save our booking.\r\n\t\t\t\t\tbooking.save(function(err) {\r\n    \t\t\t\tif (err) return res.json({error: true, errors: Rooms.MongoErrors(err)});\r\n    \t\t\t\tconst payload = {\r\n    \t        booking: booking\r\n    \t      };\r\n\t\t\t\t\t\tconsole.log('PAYLOAD', payload);\r\n    \t      res.json({payload});\r\n    \t\t\t});\r\n        }\r\n      });\r\n    }\r\n  });\r\n});\r\n\r\n// Edit a booking\r\nbookings.post('/edit/:bookingId', helpers.validateToken, function(req, res, next) {\r\n  console.log(req.params);\r\n  if (!req.params.bookingId) return res.json({error: true, errors: ['No RoomID Provided!']});\r\n  if (req.params.bookingId) {\r\n    const bookingData = {\r\n      ownerId: req.body.ownerId,\r\n      roomId: req.body.roomId,\r\n      buyerId: req.body.buyerId,\r\n      price: req.body.price,\r\n      guests: req.body.guests\r\n  \t};\r\n    console.log('before update', req.params.bookingId)\r\n    Bookings.findByIdAndUpdate(\r\n\t\t\treq.params.bookingId,\r\n\t\t\t{$set: bookingData},\r\n\t\t\t{new: true, runValidators: true}\r\n\t\t).exec(function(err, booking) {\r\n      if (err || !booking) return res.json({error: true, errors: Bookings.MongoErrors(err)});\r\n    \tif (booking) {\r\n        const payload = {\r\n\t        booking: booking\r\n\t      };\r\n\t      res.json({payload});\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\n// Retrieve a booking by ID\r\nbookings.get('/:bookingId', function(req, res, next) {\r\n  if (!req.params.bookingId) return res.json('A bookingId is required!');\r\n  if (req.params.bookingId) {\r\n    Bookings.findOne({_id: req.params.bookingId})\r\n    .populate('ownerId').populate('buyerId').populate('roomId')\r\n\t\t.exec(function(err, booking) {\r\n      console.log(err, booking);\r\n      if (err || !booking) return res.json({error: true, errors: Bookings.MongoErrors(err)});\r\n\t\t\tif (booking) {\r\n\t\t\t\tconst booking = {\r\n\t\t\t\t\tid: booking._id,\r\n\t\t\t\t\townerId: booking.ownerId,\r\n          roomId: booking.roomId,\r\n          buyerId: booking.buyerId,\r\n          price: booking.price,\r\n\t\t\t\t\tguests: booking.guests,\r\n\t\t\t\t\tupdated_at: booking.updated_at,\r\n\t\t\t\t\tcreated_at: booking.created_at\r\n\t\t\t\t};\r\n\t\t\t\treturn res.json({payload: {booking}});\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\n// Get a booking by buyerID (User)\r\nbookings.get('/buyerId/:buyerId', function(req, res, next) {\r\n\tif (!req.params.buyerId) return res.json('A buyerId is required!');\r\n\tif (req.params.buyerId) {\r\n\t\tBookings.find({buyerId: req.params.buyerId})\r\n\t\t// .populate('featuredImageId')\r\n\t\t.populate('roomId')\r\n\t\t.exec(function(err, bookings) {\r\n\t\t\tconsole.log(err, bookings)\r\n      if (err || !bookings) return res.json({error: false, errors: Bookings.MongoErrors(err)});\r\n      if (bookings) {\r\n\t\t\t\tconst payload = bookings.map((booking, index) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tid: booking._id,\r\n\t\t\t\t\t\tbuyerId: booking.buyerId,\r\n\t\t\t\t\t\troom: booking.roomId,\r\n\t\t\t\t\t\townerId: booking.ownerId,\r\n\t\t\t\t\t\tprice: booking.price,\r\n\t\t\t\t\t\tguests: booking.guests,\r\n\t\t\t\t\t\tupdated_at: booking.updated_at,\r\n\t\t\t\t\t\tcreated_at: booking.created_at\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n        return res.json({payload: {bookings: payload}});\r\n      }\r\n\t\t});\r\n\t}\r\n});\r\n\r\n// Delete a booking\r\nbookings.delete('/delete/:bookingId', helpers.validateToken, function(req, res, next) {\r\n  if (!req.params.bookingId) return res.json('A bookingId is required!');\r\n  if (req.params.bookingId) {\r\n    Bookings.findOne({_id: req.params.bookingId})\r\n\t\t.exec(function(err, booking) {\r\n      console.log(err);\r\n      if (err || !booking) return res.json({error: true, errors: Bookings.MongoErrors(err)});\r\n      if (booking) {\r\n\t\t\t\tRooms.findByIdAndUpdate(\r\n\t        booking.roomId,\r\n\t        {$set: {booked: false}},\r\n\t        {new: true, runValidators: true}\r\n\t      ).exec(function(err, room) {\r\n\t      \tif (err || !room) return res.json({error: true, errors: Rooms.MongoErrors(err)});\r\n\t    \t\tif (room) {\r\n\t\t\t\t\t\tBookings.deleteOne({_id: req.params.bookingId})\r\n\t\t\t\t\t\t.exec(function(err) {\r\n\t\t\t\t\t\t\tif (err) return res.json({error: true, errors: Rooms.MongoErrors(err)});\r\n\t\t\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\t\t\tconsole.log('Deleted', req.params.bookingId);\r\n\t\t\t\t\t\t\t\treturn res.status(200).send({payload: {success: true}});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\nmodule.exports = bookings;\r\n","import express from 'express';\r\n\r\n// Grab all our routes\r\nimport auth from './auth';\r\nimport rooms from './rooms';\r\nimport bookings from './bookings';\r\nimport uploads from './uploads';\r\n\r\nconst router = express.Router();\r\n\r\n// // Define Routes\r\nrouter.use('/api/auth/', auth);\r\nrouter.use('/api/rooms/', rooms);\r\nrouter.use('/api/bookings/', bookings);\r\nrouter.use('/api/uploads/', uploads);\r\n\r\nexport default router;\r\n","/* Express Router */\r\nconst express = require('express');\r\nconst rooms = express.Router();\r\n\r\n/* Necessary Models */\r\nconst Rooms = require('../models/RoomsModel').RoomsModel;\r\n\r\n/* Helpers */\r\nconst helpers = require('../config/helpers.js');\r\n\r\n// Return all rooms in collection.\r\nrooms.get('/all', function(req, res, next) {\r\n\t// Grab all rooms\r\n  Rooms.find({})\r\n\t// .populate('featuredImageId').populate('ownerId')\r\n\t.exec(function(err, rooms) {\r\n\t\t// Throw errors\r\n\t\tif (err || !rooms) return res.json({errors: true, errors: Rooms.MongoErrors(err)});\r\n\r\n\t\t// If we recieved a valid Room array\r\n\t\tif (rooms) {\r\n\t\t\tconst payload = rooms.map((room, index) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid: room._id,\r\n\t\t\t\t\townerId: room.ownerId,\r\n\t\t\t\t\tfeaturedImageId: room.featuredImageId,\r\n\t\t\t\t\ttitle: room.title,\r\n\t\t\t\t\tdescription: room.description,\r\n\t\t\t\t\tpropertyType: room.propertyType,\r\n\t\t\t\t\troomType: room.roomType,\r\n\t\t\t\t\tlocation: room.location,\r\n\t\t\t\t\tprice: room.price,\r\n\t\t\t\t\tguests: room.guests,\r\n          booked: room.booked,\r\n\t\t\t\t\tupdated_at: room.updated_at,\r\n\t\t\t\t\tcreated_at: room.created_at\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\treturn res.json({payload: {rooms: payload}});\r\n    }\r\n  });\r\n});\r\n\r\n// Add A Room\r\nrooms.put('/add', helpers.validateToken, function(req, res, next) {\r\n\t// Define a schema safe object\r\n\tconst roomData = {\r\n    ownerId: req.body.ownerId,\r\n\t\tfeaturedImageId: req.body.featuredImageId,\r\n\t\ttitle: req.body.title,\r\n\t\tdescription: req.body.desc,\r\n    propertyType: req.body.propertyType,\r\n    roomType: req.body.roomType,\r\n    location: req.body.location,\r\n    price: req.body.price,\r\n    guests: req.body.guests\r\n\t};\r\n\r\n\t// Create the room\r\n\tRooms.create(roomData, function(err, room) {\r\n\t\tif (err || !room) return res.json({errors: true, errors: Rooms.MongoErrors(err)});\r\n \t\tif (room) {\r\n\t\t\troom.save(function(err) {\r\n\t\t\t\tif (err) res.send('Idk');\r\n\t\t\t\tconst payload = {\r\n\t\t\t\t\tsuccess: true,\r\n\t        room: room\r\n\t      };\r\n\t      res.send({payload});\r\n\t\t\t})\r\n    }\r\n  });\r\n});\r\n\r\n// Check Token for current Users request.\r\nrooms.post('/edit/:roomId', helpers.validateToken, function(req, res, next) {\r\n  console.log(req.params);\r\n  if (!req.params.roomId) return res.json({error: true, errors: ['No RoomID Provided!']});\r\n  if (req.params.roomId) {\r\n\t\t// Define a schema safe object\r\n    const roomData = {\r\n  \t\tfeaturedImageId: req.body.featuredImageId,\r\n  \t\ttitle: req.body.title,\r\n  \t\tdescription: req.body.desc,\r\n      propertyType: req.body.propertyType,\r\n      roomType: req.body.roomType,\r\n      location: req.body.location,\r\n      price: req.body.price,\r\n      guests: req.body.guests\r\n  \t};\r\n    console.log('before update', req.params.roomId);\r\n    Rooms.findByIdAndUpdate(req.params.roomId, {$set: roomData}, {new: true, runValidators: true}, function(err, room) {\r\n      if (err || !room) return res.json({error: true, errors: Rooms.MongoErrors(err)});\r\n    \tif (room) {\r\n        const payload = {\r\n\t        room: room\r\n\t      };\r\n\t      res.send({payload});\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\n// Find room by param ID\r\nrooms.get('/:roomId', function(req, res, next) {\r\n  if (!req.params.roomId) return res.json('A roomId is required!');\r\n  if (req.params.roomId) {\r\n    Rooms.findOne({_id: req.params.roomId})\r\n    .populate('ownerId')\r\n\t\t.exec(function(err, room) {\r\n      if (err || !room) return res.json({error: true, errors: Rooms.MongoErrors(err)});\r\n      if (room) {\r\n\t\t\t\tconst payload = {room: {\r\n\t\t\t\t\tid: room._id,\r\n\t\t\t\t\townerId: room.ownerId,\r\n\t\t\t\t\tfeaturedImageId: room.featuredImageId,\r\n\t\t\t\t\ttitle: room.title,\r\n\t\t\t\t\tdescription: room.description,\r\n\t\t\t\t\tpropertyType: room.propertyType,\r\n\t\t\t\t\troomType: room.roomType,\r\n\t\t\t\t\tlocation: room.location,\r\n\t\t\t\t\tprice: room.price,\r\n\t\t\t\t\tguests: room.guests,\r\n          booked: room.booked,\r\n\t\t\t\t\tupdated_at: room.updated_at,\r\n\t\t\t\t\tcreated_at: room.created_at\r\n\t\t\t\t}};\r\n\t\t\t\treturn res.json({payload});\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\n// Get Rooms by the owner's ID\r\nrooms.get('/ownerId/:ownerId', function(req, res, next) {\r\n\tif (!req.params.ownerId) return res.json('An ownerId is required!');\r\n\tif (req.params.ownerId) {\r\n\t\tRooms.find({ownerId: req.params.ownerId})\r\n\t\t// .populate('featuredImageId').populate('ownerId')\r\n\t\t.exec(function(err, rooms) {\r\n\t\t\tif (err || !rooms) return res.json({error: true, errors: Rooms.MongoErrors(err)});\r\n      if (rooms) {\r\n\t\t\t\tconst payload = rooms.map((room, index) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tid: room._id,\r\n\t\t\t\t\t\townerId: room.ownerId,\r\n\t\t\t\t\t\tfeaturedImageId: room.featuredImageId,\r\n\t\t\t\t\t\ttitle: room.title,\r\n\t\t\t\t\t\tdescription: room.description,\r\n\t\t\t\t\t\tpropertyType: room.propertyType,\r\n\t\t\t\t\t\troomType: room.roomType,\r\n\t\t\t\t\t\tlocation: room.location,\r\n\t\t\t\t\t\tprice: room.price,\r\n\t\t\t\t\t\tguests: room.guests,\r\n            booked: room.booked,\r\n\t\t\t\t\t\tupdated_at: room.updated_at,\r\n\t\t\t\t\t\tcreated_at: room.created_at\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n        return res.json({payload: {rooms: payload}});\r\n      }\r\n\t\t});\r\n\t}\r\n});\r\n\r\n// Delete a room by ID\r\nrooms.delete('/delete/:roomId', helpers.validateToken, function(req, res, next) {\r\n  if (!req.params.roomId) return res.json('A roomId is required!');\r\n  if (req.params.roomId) {\r\n    Rooms.deleteOne({_id: req.params.roomId})\r\n\t\t.exec(function(err) {\r\n      console.log(err);\r\n      if (err) return res.json({error: true, errors: Rooms.MongoErrors(err)});\r\n      if (!err) {\r\n        console.log('Deleted', req.params.roomId);\r\n\t\t\t\treturn res.status(200).send({payload: {error: false}});\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\n// Export router\r\nmodule.exports = rooms;\r\n","/* Express Router */\r\nlet express = require('express');\r\nlet uploads = express.Router();\r\n\r\n/* Upload Parsing Libs*/\r\nlet multer = require('multer');\r\nlet upload = multer({ storage: multer.memoryStorage() });\r\n\r\n/* Models */\r\nconst Users = require('../models/UserModel').UserModel;\r\n\r\n/* Utilities */\r\nconst moment = require('moment');\r\n\r\n/* Helpers */\r\nconst helpers = require('../config/helpers.js');\r\n\r\n// Upload a file\r\nuploads.post('/', helpers.validateToken, upload.single('file'), function(req, res, next) {\r\n\tconsole.log('req.file', req.file);\r\n\tif (!req.file) return res.send({error: true, errors: ['File uploaded failed to be retrieved by the server.']});\r\n\r\n\t// Grab GridFS for file parsing into MongoDB\r\n\tconst gridfs = req.app.get('gridfs');\r\n\r\n\t// Define a filename that is unique.\r\n\tconst filename = req.file.originalname.split('.')[0] + moment().format(\"YYYY-MM-DD-HHmmss\") + req.file.originalname.split('.')[1];\r\n\r\n\t// Begin writing data from reqest into a writeStream\r\n\tlet writeStream = gridfs.createWriteStream({\r\n    filename: filename,\r\n\t\tmode: 'w',\r\n\t\tcontent_type: req.file.mimetype\r\n\t});\r\n\r\n\twriteStream.on('close', function (file) {\r\n\t\tconsole.log(file);\r\n\t\t// Send data back to the user\r\n\t\tconst payload = {\r\n\t\t\tfile_id: file._id,\r\n\t\t\tfile_name: file.filename\r\n\t\t}; // Finished writing the file to gridfs.\r\n\r\n\t\t// Finish this request\r\n\t\tres.send({payload: {file: payload}});\r\n  });\r\n\r\n\t// write current file buffer to our GridFS writeStream\r\n\twriteStream.write(req.file.buffer, () => {\r\n    writeStream.end(); // On complete, end the stream.\r\n  });\r\n\r\n\t// Loop until the stream ends.\r\n\treq.pipe(writeStream);\r\n});\r\n\r\n// Fetch a file\r\nuploads.get('/:fileId', function(req, res, next) {\r\n\t// Grab GridFS for file parsing into MongoDB\r\n\tconst gridfs = req.app.get('gridfs');\r\n\r\n\t// Find the requested file by it's ID\r\n\tgridfs.findOne({_id: req.params.fileId}, function (err, file) {\r\n\t\tif (err) return res.status(400).send(err);\r\n\t\tif (!file) return res.status(404);\r\n\r\n\t\tconst fileMeta = file;\r\n\r\n\t\t// Begin Reading data from gridfs into a stream.\r\n\t\tlet readStream = gridfs.createReadStream({\r\n\t\t\t_id: fileMeta._id\r\n\t\t});\r\n\r\n\t\tlet chunks = [];\r\n\r\n\t\treadStream.on('open', function() {\r\n\t    console.log(\"Reading File from DB\");\r\n\t\t}); // On stream start\r\n\r\n\t\treadStream.on('data', function(chunk) {\r\n\t\t\tchunks.push(chunk);\r\n\t\t}); //loading\r\n\r\n\t\treadStream.on(\"end\", function() {\r\n\t\t  console.log(\"File ready!\");\r\n\t\t\t// Create a single buffer from the array of chunks(buffers).\r\n\t\t\tconst buff = Buffer.concat(chunks);\r\n\t\t\t// Convert to base64 string\r\n\t\t\tconst base64 = buff.toString('base64');\r\n\t\t\t// Return browser readable data\r\n\t\t\tlet file = 'data:' + fileMeta.contentType + ';base64,' + base64;\r\n\t\t\t// End this request\r\n\t\t\tres.end(file);\r\n\t\t}); // On stream end.\r\n\r\n\t\treadStream.on('error', function (err) {\r\n\t    console.log(err);\r\n\t\t}); // Catch errors\r\n\r\n\t\t// Loop until the stream ends.\r\n\t\treadStream.pipe(res);\r\n\t});\r\n});\r\n\r\n// Export\r\nmodule.exports = uploads;\r\n","import path from 'path';\r\nimport express from 'express';\r\nimport cors from 'cors';\r\nimport bodyParser from 'body-parser';\r\nimport morgan from 'morgan'; // logger\r\nimport session from 'express-session';\r\nimport { connectMongoose } from './config/database.js';\r\nimport passport from './config/passport'; // User auth\r\n\r\nimport { PORT, SECRET, MONGO_DB_URI } from './constants';\r\nimport serverSideRender from './ssr';\r\nimport routes from './routes/';\r\n\r\n// Setup Express API Server\r\nconst api = express();\r\n\r\n// Setup MongoDB\r\nconnectMongoose(api);\r\n//\r\n// // Attach our mongodb to express session data\r\n// const MongoStore = require('connect-mongo')(session);\r\n\r\n// Set Global Express vars\r\napi.set('port', PORT);\r\napi.set('secret', SECRET);\r\n\r\n// Setup Session\r\napi.use(session({\r\n\tmaxAge: 100*60*60,\r\n\tsecret: api.get('secret'),\r\n\tresave: false,\r\n\tsaveUninitialized: false\r\n\t// store: new MongoStore({url: MONGO_DB_URI})\r\n}));\r\napi.use(passport.initialize()); // Passport.js Init\r\napi.use(passport.session()); // Session Init\r\n\r\n// Request Body Parsing Middleware\r\napi.use(bodyParser.urlencoded({ extended: true }));// Parse application/x-www-form-urlencoded\r\napi.use(bodyParser.json()); // Parse application/json\r\n\r\n// CORS Configuration is done here!\r\nlet corsOptions = {\r\n  origin: [`http://localhost:${PORT}`],\r\n  optionsSuccessStatus: 200,\r\n  methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS']\r\n};\r\n// Pass all routes through this middleware\r\napi.all('*', cors(corsOptions), (req, res, next) => {\r\n\treq.accepts('application/json');\r\n\tconsole.log('Path: ', req.path);\r\n\tconsole.log('Method: ', req.method);\r\n\tconsole.log('Params: ', req.params);\r\n\tconsole.log('Body: ', req.body);\r\n\tconsole.log('Headers: ', req.headers);\r\n\tnext();\r\n});\r\n\r\n/*\r\n\tApply webpack Hot reloading middleware to\r\n\tlisten to changes in our api server\r\n\tif we're in development mode.\r\n*/\r\nconsole.log(process.env.NODE_ENV);\r\nif (process.env.NODE_ENV === 'development') {\r\n\r\n  // Bind our webpack compiler to our express webpack Hot Middleware\r\n  const webpack = require('webpack');\r\n  const webpackDevMiddleware = require('webpack-dev-middleware-webpack-2');\r\n  const webpackHotMiddleware = require('webpack-hot-middleware');\r\n  const webpackConfig = require('config/webpack.client.dev');\r\n  const compiler = webpack(webpackConfig);\r\n\r\n  api.use(webpackHotMiddleware(compiler));\r\n  api.use(webpackDevMiddleware(compiler, {\r\n    noInfo: true,\r\n    publicPath: webpackConfig.output.publicPath,\r\n  }));\r\n\r\n  // Tell express where to find files while in development\r\n  api.use('/static', express.static(__dirname + '../.build'))\r\n\r\n  // Logging\r\n  const morgan = require('morgan');\r\n  api.use(morgan('dev'));\r\n\r\n} else if (process.env.NODE_ENV === 'production') {\r\n  // Tell express where to find files while in production1\r\n\tapi.use(express.static(path.resolve('dist')));\r\n}\r\n\r\n// Grab all api routes after we've setup express\r\napi.use(routes);\r\n\r\n// And finally if no other route is matched,\r\n// then send our react app.\r\napi.get('/', (req, res) => {\r\n\tconsole.log('iran');\r\n  if (process.env.NODE_ENV === 'production') {\r\n    const page = serverSideRender();\r\n    return res.send(page);\r\n  }\r\n  const template = require('../client/index.html');\r\n  const CONSTANT = require('../client/constants');\r\n  const page = template.replace('\"-- CONFIG --\"', JSON.stringify(CONSTANT));\r\n  return res.send(page);\r\n});\r\n\r\nexport default api;\r\n","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { renderToString } from 'react-dom/server';\r\nimport createMemoryHistory from 'history/createMemoryHistory';\r\nimport { ConnectedRouter } from 'react-router-redux';\r\n\r\nimport setupStore from 'client/store';\r\n// Application View Component\r\nimport App from 'client/containers/App';\r\nimport template from 'client/index.html';\r\n\r\nexport default () => {\r\n  const history = createMemoryHistory();\r\n  const store = setupStore(history);\r\n  const state = store.getState();\r\n\r\n  const rendered = renderToString(\r\n    <Provider store={store}>\r\n      <ConnectedRouter history={history}>\r\n        <Route component={App} />\r\n      </ConnectedRouter>\r\n    </Provider>,\r\n  );\r\n  const page = template\r\n    .replace('<!-- CONTENT -->', rendered)\r\n    .replace('\"-- STORES --\"', JSON.stringify(state));\r\n\r\n  return page;\r\n}\r\n","// Page Loaders\r\nexport const LOAD_PAGE = {\r\n  HOME: 'LOAD_HOME_PAGE',\r\n  LOGIN: 'LOAD_LOGIN_PAGE',\r\n  SIGNUP: 'LOAD_SIGNUP_PAGE',\r\n  ROOM: 'LOAD_ROOM_PAGE',\r\n  ROOMS: 'LOAD_ROOMS_PAGE',\r\n  ROOMEDITOR: 'LOAD_ROOMEDITOR_PAGE',\r\n  YOURROOMS: 'LOAD_YOURROOMS_PAGE',\r\n  BOOKINGS: 'LOAD_BOOKINGS_PAGE',\r\n  SETTINGS: 'LOAD_SETTINGS_PAGE'\r\n};\r\n\r\n// Page Unloaders\r\nexport const UNLOAD_PAGE = {\r\n  HOME: 'UNLOAD_HOME_PAGE',\r\n  LOGIN: 'UNLOAD_LOGIN_PAGE',\r\n  SIGNUP: 'UNLOAD_SIGNUP_PAGE',\r\n  ROOM: 'UNLOAD_ROOM_PAGE',\r\n  ROOMS: 'UNLOAD_ROOMS_PAGE',\r\n  ROOMEDITOR: 'UNLOAD_ROOMEDITOR_PAGE',\r\n  YOURROOMS: 'UNLOAD_YOURROOMS_PAGE',\r\n  BOOKINGS: 'UNLOAD_BOOKINGS_PAGE',\r\n  SETTINGS: 'UNLOAD_SETTINGS_PAGE'\r\n};\r\n\r\n// App general\r\nexport const APP = {\r\n  LOAD: 'APP_LOAD',\r\n  REDIRECT: 'REDIRECT',\r\n  CLOSE_ERROR: 'GLOBAL_CLOSE_ERROR',\r\n  DELETE_TOKEN: 'DELETE_TOKEN'\r\n};\r\n\r\n// Async related\r\nexport const ASYNC = {\r\n  START: 'ASYNC_START',\r\n  END: 'ASYNC_END',\r\n  ERROR: 'ASYNC_ERROR',\r\n  CONNECTION_ERROR: 'ASYNC_CONNECTION_ERROR'\r\n};\r\n\r\n// Authentication related\r\nexport const AUTH = {\r\n  LOGIN: 'LOGIN',\r\n  SIGNUP: 'SIGNUP',\r\n  LOGOUT: 'LOGOUT',\r\n  FIELD_ERROR: 'AUTH_FIELD_ERROR',\r\n  UPDATE_FIELD: 'AUTH_UPDATE_FIELD',\r\n  CLOSE_ERROR: 'AUTH_CLOSE_ERROR',\r\n  FieldError: (key, message, inputState, value) => {\r\n    return {\r\n      type: AUTH.FIELD_ERROR,\r\n      key,\r\n      message,\r\n      inputState,\r\n      value\r\n    };\r\n  }\r\n};\r\n\r\n// Room related\r\nexport const ROOMS = {\r\n  CLOSE_ERROR: 'ROOMS_CLOSE_ERROR',\r\n  FIELD_ERROR: 'ROOMS_FIELD_ERROR',\r\n  INCREMENT_GUESTS: 'ROOMS_INCREMENT_GUESTS',\r\n  DECREMENT_GUESTS: 'ROOMS_DECREMENT_GUESTS',\r\n\tSELECT_DATES: 'ROOMS_SELECT_DATES',\r\n\tUPDATE_CALENDAR_TYPE: 'ROOMS_UPDATE_CALENDAR_TYPE',\r\n  ADD: 'ADD_ROOM',\r\n  EDIT: 'EDIT_ROOM',\r\n  BOOK: 'BOOK_ROOM',\r\n  DELETE: 'DELETE_ROOM',\r\n  FieldError: (key, message, inputState, value) => {\r\n    return {\r\n      type: ROOMS.FIELD_ERROR,\r\n      key,\r\n      message,\r\n      inputState,\r\n      value\r\n    };\r\n  }\r\n};\r\n\r\n// Booking related\r\nexport const BOOKINGS = {\r\n  ADD: 'ADD_BOOKING',\r\n  EDIT: 'EDIT_BOOKING',\r\n  DELETE: 'DELETE_BOOKING'\r\n};\r\n\r\n// RoomEditor related\r\nexport const ROOMEDITOR = {\r\n  CLOSE_ERROR: 'SETTINGS_CLOSE_ERROR',\r\n  FIELD_ERROR: 'ROOMEDITOR_FIELD_ERROR',\r\n  UPDATE_FIELD: 'ROOMEDITOR_UPDATE_FIELD',\r\n  INCREMENT_GUESTS: 'ROOMEDITOR_INCREMENT_GUESTS',\r\n  DECREMENT_GUESTS: 'ROOMEDITOR_DECREMENT_GUESTS',\r\n  UPLOAD_FEATURED_IMAGE: 'ROOMEDITOR_UPLOAD_FEATURED_IMAGE',\r\n  FETCH_GMAPS_RESULTS: 'ROOMEDITOR_FETCH_GMAPS_RESULTS',\r\n  UPDATE_LOCATION_FROM_SUGGESTION: 'ROOMEDITOR_UPDATE_LOCATION_FROM_SUGGESTION',\r\n\tSELECT_DATE_TYPE: 'ROOMEDITOR_SELECT_DATE_TYPE',\r\n  FieldError: (key, message, inputState, value) => {\r\n    return {\r\n      type: ROOMEDITOR.FIELD_ERROR,\r\n      key,\r\n      message,\r\n      inputState,\r\n      value\r\n    };\r\n  }\r\n};\r\n\r\n// Setings related\r\nexport const SETTINGS = {\r\n  UPDATE_FIELD: 'SETTINGS_UPDATE_FIELD',\r\n  FIELD_ERROR: 'SETTINGS_FIELD_ERROR',\r\n  CLOSE_ERROR: 'SETTINGS_CLOSE_ERROR',\r\n  FieldError: (key, message, inputState, value) => {\r\n    return {\r\n      type: SETTINGS.FIELD_ERROR,\r\n      key,\r\n      message,\r\n      inputState,\r\n      value\r\n    };\r\n  }\r\n};\r\n","// Grab Superagent for handling outbound requests.\r\nimport _superagent from 'superagent';\r\nimport superagentPromise from 'superagent-promise';\r\n\r\n// Promisifiy superagent\r\nconst superagent = superagentPromise(_superagent, global.Promise);\r\n\r\n// Define constants\r\nconst API_ROOT = 'http://localhost:3000/api';\r\nconst GMAPS_ROOT = 'https://maps.googleapis.com/maps/api/geocode/';\r\n// const encode = encodeURIComponent;\r\nconst responseBody = res => res.body;\r\nlet token = null;\r\nlet GMAPSKEY = 'AIzaSyAeUUJdV1tvsAu8J63PvZVFEQAKvg8thVI';\r\n\r\n// Used to add a token to request headers.\r\nconst tokenPlugin = req => {\r\n  if (token) {\r\n    req.set('authorization', `Token ${token}`);\r\n  }\r\n};\r\n\r\n// Define a general request handler to add the user's token if it exists.\r\nconst requests = {\r\n  del: url =>\r\n    superagent.del(`${API_ROOT}${url}`).use(tokenPlugin).then(responseBody),\r\n  get: url =>\r\n    superagent.get(`${API_ROOT}${url}`).use(tokenPlugin).then(responseBody),\r\n  put: (url, body) =>\r\n    superagent.put(`${API_ROOT}${url}`, body).use(tokenPlugin).then(responseBody),\r\n  post: (url, body) =>\r\n    superagent.post(`${API_ROOT}${url}`, body).use(tokenPlugin).then(responseBody)\r\n};\r\n\r\n// Define general GMAPS requests for standardized calls to the API\r\nconst GMapsAPIRequest = {\r\n\tpost: address =>\r\n\tsuperagent.post(`${GMAPS_ROOT}json?address=${address}&key=${GMAPSKEY}`),\r\n\tget: address =>\r\n\tsuperagent.get(`${GMAPS_ROOT}json?address=${address}&key=${GMAPSKEY}`)\r\n};\r\n\r\n// Authentication requests\r\nconst Auth = {\r\n  current: () =>\r\n    requests.get('/auth'),\r\n  login: (email, password) =>\r\n    requests.post('/auth/login', {email, password}),\r\n  signup: (email, password, passwordConfirm) =>\r\n    requests.post('/auth/signup', {email, password, passwordConfirm}),\r\n  save: user =>\r\n    requests.put('/user', {user})\r\n};\r\n\r\n// Handle requests to GMaps API\r\nconst Maps = {\r\n\tfindAddress: (value) => {\r\n\t\tconst json = encodeURIComponent(JSON.stringify(value));\r\n\t\treturn GMapsAPIRequest.get(json);\r\n\t}\r\n};\r\n\r\n// Room Requests\r\nconst Rooms = {\r\n  all: () => requests.get('/rooms/all'),\r\n\tadd: (ownerId, title, desc, propertyType, roomType, location, price, guests, featuredImageId) => requests.put('/rooms/add', {ownerId, title, desc, propertyType, roomType, location, price, guests, featuredImageId}),\r\n  editRoom: (roomId, title, desc, propertyType, roomType, location, price, guests, featuredImageId) => requests.post('/rooms/edit/'+ roomId, {title, desc, propertyType, roomType, location, price, guests, featuredImageId}),\r\n  getRoom: (id) => requests.get('/rooms/'+id),\r\n  roomByUserId: (id) => requests.get('/rooms/ownerId/'+id),\r\n  deleteRoom: (id) => requests.del('/rooms/delete/'+id)\r\n};\r\n\r\n// Bookings Requests\r\nconst Bookings = {\r\n  all: () => requests.get('/bookings/all'),\r\n\tbookRoom: (buyerId, ownerId, roomId, price, guests) => requests.put('/bookings/add', {buyerId, ownerId, roomId, price, guests}),\r\n  editBooking: (bookingId, guests) => requests.post('/rooms/edit/'+ bookingId, {guests}),\r\n  getBooking: (id) => requests.get('/bookings/'+id),\r\n  bookingsByBuyerId: (buyerId) => requests.get('/bookings/buyerId/'+buyerId),\r\n  deleteBooking: (bookingId) => requests.del('/bookings/delete/'+bookingId)\r\n};\r\n\r\n// Requests to the file server\r\nconst Uploads = {\r\n\tasyncFileUpload: (file) => {\r\n    return superagent\r\n      .post(`${API_ROOT}/uploads/`)\r\n      .use(tokenPlugin)\r\n      .send(file)\r\n      .on('progress', event => {\r\n        console.log(event);\r\n      })\r\n      .then(responseBody);\r\n\t},\r\n\tgetFile: (id) => {\r\n\t\treturn superagent\r\n\t\t\t.get(`${API_ROOT}/uploads/`+id)\r\n\t\t\t.use(tokenPlugin)\r\n\t\t\t.on('progress', event => {\r\n\t\t\t\tconsole.log(event);\r\n\t\t\t})\r\n\t\t\t.then(responseBody);\r\n\t}\r\n};\r\n\r\n// Exports\r\nexport default {\r\n  Auth,\r\n  Rooms,\r\n  Bookings,\r\n\tMaps,\r\n\tUploads,\r\n  setToken: _token => { token = _token; }\r\n};\r\n","module.exports = __webpack_public_path__ + \"client/assets/banner_1JofY.jpg\";","module.exports = __webpack_public_path__ + \"client/assets/banner6_dJDky.jpg\";","module.exports = __webpack_public_path__ + \"client/assets/defaultUserAvatar_3CjaF.png\";","module.exports = __webpack_public_path__ + \"client/assets/loader_1m-PP.gif\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class Four_Oh_Four extends React.Component {\r\n  componentWillMount() {}\r\n  componentWillUnmount() {}\r\n  render() {\r\n    return (\r\n      <section id=\"404\" className=\"hero is-dark is-bold is-fullheight\">\r\n        <div className=\"hero-body\">\r\n          <div className=\"container has-text-centered\">\r\n            <h1 className=\"title is-1\">Uh oh! This page was not found!</h1>\r\n            <br />\r\n            <Link className=\"button is-info is-large\" to=\"/\">\r\n              Return Home\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nclass ErrorsList extends Component {\r\n\r\n  render() {\r\n    if (this.props.errors) {\r\n      return this.props.errors.map((error, index) => {\r\n\t\t\t\tconsole.log(error, index);\r\n        return (\r\n          <div key={index} className=\"notification is-danger\">\r\n            <button className=\"delete\" onClick={() => this.props.handleClose(index)} />\r\n            <span>{error}</span>\r\n          </div>\r\n        );\r\n      }, this);\r\n    }\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default ErrorsList;\r\n","import React, { Component } from 'react';\r\n\r\nimport BulmaInput from './Input';\r\n\r\n// Wrap the Label for cleaner syntax in the Field Component\r\nconst Label = props => {\r\n\tif (!props.label) return null;\r\n  if (props.label) {\r\n    return (\r\n      <label className={props.className}>{props.label}</label>\r\n    );\r\n\t}\r\n\treturn null;\r\n}\r\n\r\n// Wrap the message and apply the inputState for styles\r\nconst Message = props => {\r\n  if (props.message) {\r\n    return (\r\n      <p className={'help ' + props.inputState}>{props.message}</p>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\n/*\r\n*\t\tDefine a Wrapper component that will change the appearance\r\n* \tof the form based on props provided.\r\n*\t\t{\r\n*\t\t\tisHorizontal: Boolean, // this makes the form horizontal\r\n*\t\t\tchildren: Component // this injects the field into the styled form\r\n*\t\t}\r\n*/\r\nconst FieldWrapper = props => {\r\n\tif (props.isHorizontal) {\r\n\t\treturn (\r\n\t\t\t<div className={'field is-horizontal'}>\r\n\t\t\t\t{props.label ? (<Label label={props.label} className=\"field-label is-normal\" />) : null}\r\n\t\t\t\t<div className=\"field-body\">\r\n\t\t\t\t\t<div className={'field is-expanded'}>\r\n\t\t\t\t\t\t<div className={'field' + (props.hasAddonLeft || props.hasAddonRight ? ' has-addons' : '')}>\r\n\t\t\t\t\t\t\t{props.children}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div className={'field' + (props.hasAddonLeft || props.hasAddonRight ? ' has-addons' : '')}>\r\n\t\t\t\t{props.label ? (<Label label={props.label} className=\"label\" />) : null}\r\n\t\t\t\t{props.children}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass BulmaField extends Component {\r\n\r\n  render() {\r\n\t\treturn (\r\n\t\t\t<FieldWrapper\r\n\t\t\t\tlabel={this.props.label ? this.props.label : null}\r\n\t\t\t\thasAddonLeft={this.props.hasAddonLeft}\r\n\t\t\t\thasAddonRight={this.props.hasAddonRight}\r\n\t\t\t\tisHorizontal={this.props.isHorizontal}\r\n\t\t\t\tinputState={this.props.inputState}\r\n\t\t\t\tmessage={this.props.message}\r\n\t\t\t>\r\n\r\n\t\t\t\t{this.props.hasAddonLeft ? (\r\n\t\t\t\t\t\t<div className=\"control\">\r\n\t\t\t\t\t\t\t{this.props.hasAddonLeft}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\tnull\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{/*\r\n\t\t\t\t\t\tThe 'control' class element wraps\r\n\t\t\t\t\t\tall inputs to create an easier way to manipulate and\r\n\t\t\t\t\t\tshape forms.\r\n\t\t\t\t*/}\r\n\t\t\t\t<div className={'control' +\r\n\t\t\t\t\t(this.props.size ? ' '+ this.props.size : '') +\r\n\t\t\t\t\t(this.props.hasIconRight ? ' has-icons-right' : '') +\r\n\t\t\t\t\t(this.props.hasIconLeft ? ' has-icons-left' : '') +\r\n\t\t\t\t\t(this.props.isLoading ? ' is-loading' : '')\r\n\t\t\t\t}>\r\n\t\t\t\t\t{/* Display the input field with props*/}\r\n\t\t\t\t\t<BulmaInput\r\n\t\t\t\t\t\ttype={this.props.type}\r\n\t\t\t\t\t\tsize={this.props.size}\r\n\t\t\t\t\t\tplaceholder={this.props.placeholder}\r\n\t\t\t\t\t\tvalue={this.props.value}\r\n\t\t\t\t\t\tdisabled={this.props.disabled}\r\n\t\t\t\t\t\tinputState={this.props.inputState}\r\n\t\t\t\t\t\tonChange={this.props.onChange}\r\n\t\t\t\t\t\tonClick={this.props.onClick}\r\n\t\t\t\t\t\tactive={this.props.active}\r\n\t\t\t\t\t\tresults={this.props.results}\r\n\t\t\t\t\t\topts={this.props.opts}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{/*\r\n\t\t\t\t\t\t\tIf this component has a results prop,\r\n\t\t\t\t\t\t\tdisplay the results beneath the component.\r\n\t\t\t\t\t\t\tMODIFIED*** If the type prop is 'search',\r\n\t\t\t\t\t\t\ta custom click event is run.\r\n\t\t\t\t\t*/}\r\n\t\t\t\t\t{this.props.type === 'search' ? (\r\n\t\t\t\t\t\tthis.props.results ?\r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t<div className=\"results\">\r\n\t\t\t\t\t\t\t\t{this.props.results.map((room, index) => {\r\n\t\t\t\t\t\t\t\t\tconst searchObj = {\r\n\t\t\t\t\t\t\t\t\t\tresultId: index,\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"suggestion\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.onClick(searchObj.resultId)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}, this)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tnull\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{/*\r\n\t\t\t\t\t\t\tIf this component has a results prop,\r\n\t\t\t\t\t\t\tdisplay the results beneath the component.\r\n\t\t\t\t\t*/}\r\n\t\t\t\t\t{(this.props.results) ? (\r\n\t\t\t\t\t\t<div className=\"results\">\r\n\t\t\t\t\t\t\t{this.props.results.map((result, key) => {\r\n\t\t\t\t\t\t\t\tconst locationObj = {\r\n\t\t\t\t\t\t\t\t\tresultId: key,\r\n\t\t\t\t\t\t\t\t\tlat: result.geometry.location.lat,\r\n\t\t\t\t\t\t\t\t\tlng: result.geometry.location.lng,\r\n\t\t\t\t\t\t\t\t\tformatted_address: result.formatted_address\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn (<div key={key} className=\"suggestion\" onClick={() => this.props.onClick(locationObj)}>{locationObj.formatted_address}</div>);\r\n\t\t\t\t\t\t\t}, this)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tnull\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{/* If an font-awesome icon was provided. */}\r\n\t\t\t\t\t{this.props.hasIconLeft ? (\r\n\t\t\t\t\t\t<span className={'icon is-left'}>\r\n\t\t\t\t\t\t\t<i className={'fa fa-' + this.props.hasIconLeft}></i>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tnull\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{this.props.hasIconRight ? (\r\n\t\t\t\t\t\t<span className={'icon is-right'}>\r\n\t\t\t\t\t\t\t<i className={'fa fa-' + this.props.hasIconRight}></i>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tnull\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{/* A message that displays beneath the input field. */}\r\n\t\t\t\t\t<Message inputState={this.props.inputState} message={this.props.message}/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* If A left addon prop was provided. */}\r\n\t\t\t\t{this.props.hasAddonRight ? (\r\n\t\t\t\t\t<div className=\"control\">\r\n\t\t\t\t\t\t{this.props.hasAddonRight}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\tnull\r\n\t\t\t\t)}\r\n\t\t\t\t{/* END OF FIELD COMPONENT*/}\r\n\t\t\t</FieldWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BulmaField;\r\n","import React from 'react';\r\n\r\nconst GlobalErrors = props => {\r\n\tif (props.errors && props.handleClose) {\r\n\t\treturn props.errors.map((error, index) => {\r\n\t\t\treturn(\r\n\t\t\t\t<div key={index} id=\"global\" className=\"notification is-danger\">\r\n\t\t\t\t\t<button onClick={() => props.handleClose(index)} className=\"delete\"></button>\r\n\t\t\t\t\t{error}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nexport default GlobalErrors;\r\n","import React, { Component } from 'react';\r\n// import Calendar from 'react-calendar';\r\n\r\nclass BulmaInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onFocus = this.onFocus.bind(this);\r\n    this.onBlur = this.onBlur.bind(this);\r\n    this.onHover = this.onHover.bind(this);\r\n    this.offHover = this.offHover.bind(this);\r\n\t\tthis.state = {\r\n      focused: false,\r\n      hover: false\r\n    }\r\n  }\r\n  onFocus() {\r\n    this.setState({focused: true});\r\n  }\r\n  onBlur() {\r\n    this.setState({focused: false});\r\n  }\r\n  onHover() {\r\n    this.setState({hover: true});\r\n  }\r\n  offHover() {\r\n    this.setState({hover: false});\r\n  }\r\n\r\n  render() {\r\n\t\tswitch (this.props.type) {\r\n\t\t\tcase 'calendar':\r\n        if (this.props.active) {\r\n          return (\r\n\t\t\t\t\t\t<div></div>\r\n  \t\t\t\t\t// <Calendar\r\n  \t\t\t\t\t// \tminDate={new Date(Date.now())}\r\n  \t\t\t\t\t// \tselectRange={true}\r\n  \t\t\t\t\t// \tonChange={this.props.onChange}\r\n\t\t\t\t\t\t// \tvalue={this.props.value.length > 0 ? this.props.value : null}\r\n  \t\t\t\t\t// />\r\n  \t\t\t\t);\r\n        } else {\r\n          return (\r\n            <div className=\"field is-expanded\">\r\n              <div className=\"field has-addons\">\r\n                <div className=\"control\">\r\n                  <a className=\"button is-static\">\r\n                    <i className=\"fa fa-calendar\"></i>\r\n                  </a>\r\n                </div>\r\n                <div className=\"control\">\r\n                  <div onClick={this.props.onClick} className=\"input\">\r\n                    {this.props.value[0] ? `${this.props.value[0].getMonth()}/${this.props.value[0].getDate()}`: 'mm/dd '}\r\n                    <i className=\"calendar-input-icon fa fa-arrow-right\"></i>\r\n                    {this.props.value[1] ? `${this.props.value[1].getMonth()}/${this.props.value[1].getDate()}`: ' mm/dd'}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        }\r\n\t\t\tcase 'file':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"file is-info\">\r\n\t\t\t\t\t\t<label className=\"file-label\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tname={this.props.key}\r\n\t\t\t\t\t\t\t\tclassName=\"file-input\"\r\n\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\tonChange={this.props.onChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<span className=\"file-cta\">\r\n\t\t\t\t\t\t\t\t<span className=\"file-icon\">\r\n\t\t\t\t\t\t\t\t\t<i className=\"fa fa-upload\"></i>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span className=\"file-label\">\r\n\t\t\t\t\t        Click To Upload\r\n\t\t\t\t\t      </span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className=\"file-name\">\r\n\t\t\t\t\t\t\t\t{this.props.value.file_name || ''}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n      case 'location':\r\n      case 'search':\r\n        return (\r\n          <input type={this.props.type}\r\n\t\t\t\t\t\tclassName={'input' +\r\n              (this.props.size ? ' '+ this.props.size : '') +\r\n\t\t\t\t\t\t\t(this.props.inputState ? ' ' + this.props.inputState : '') +\r\n\t\t\t\t\t\t\t(this.state.focus ? ' is-focused' : '') +\r\n\t\t\t\t\t\t\t(this.state.hover ? ' is-hovered' : '')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvalue={this.props.value}\r\n\t\t\t\t\t\tplaceholder={this.props.placeholder}\r\n\t\t\t\t\t\tonChange={this.props.onChange}\r\n\t\t\t\t\t\tonMouseOver={this.onHover}\r\n\t\t\t\t\t\tonMouseLeave={this.offHover}\r\n\t\t\t\t\t\tonBlur={this.onBlur}\r\n\t\t\t\t\t\tonFocus={this.onFocus}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\tcase 'text':\r\n      case 'number':\r\n\t\t\tcase 'password':\r\n\t\t\tcase 'email':\r\n\t\t\tcase 'date':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype={this.props.type}\r\n\t\t\t\t\t\tclassName={'input' +\r\n              (this.props.size ? ' '+ this.props.size : '') +\r\n\t\t\t\t\t\t\t(this.props.inputState ? ' '+this.props.inputState : '') +\r\n\t\t\t\t\t\t\t(this.state.focus ? ' is-focused' : '') +\r\n\t\t\t\t\t\t\t(this.state.hover ? ' is-hovered' : '')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvalue={this.props.value}\r\n\t\t\t\t\t\tplaceholder={this.props.placeholder}\r\n\t\t\t\t\t\tonChange={this.props.onChange}\r\n\t\t\t\t\t\tonMouseOver={this.onHover}\r\n\t\t\t\t\t\tonMouseLeave={this.offHover}\r\n\t\t\t\t\t\tonBlur={this.onBlur}\r\n\t\t\t\t\t\tonFocus={this.onFocus}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\tcase 'textarea':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\ttype={this.props.type}\r\n\t\t\t\t\t\tclassName={'textarea' +\r\n              (this.props.size ? ' '+ this.props.size : '') +\r\n\t\t\t\t\t\t\t(this.props.inputState.length > 0 ? ' ' + this.props.inputState : '') +\r\n\t\t\t\t\t\t\t(this.state.focus ? ' is-focused' : '') +\r\n\t\t\t\t\t\t\t(this.state.hover ? ' is-hovered' : '')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvalue={this.props.value}\r\n\t\t\t\t\t\tplaceholder={this.props.placeholder}\r\n\t\t\t\t\t\tonChange={this.props.onChange}\r\n\t\t\t\t\t\tonMouseOver={this.onHover}\r\n\t\t\t\t\t\tonMouseLeave={this.offHover}\r\n\t\t\t\t\t\tonBlur={this.onBlur}\r\n\t\t\t\t\t\tonFocus={this.onFocus}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t);\r\n      case 'select':\r\n        return (\r\n          <div\r\n            className={'select' +\r\n              (this.props.size ? ' '+ this.props.size : '') +\r\n  \t\t\t\t\t\t((this.props.inputState.length > 0) ? (' '+this.props.inputState) : '') +\r\n  \t\t\t\t\t\t(this.state.focus ? ' is-focused' : '') +\r\n  \t\t\t\t\t\t(this.state.hover ? ' is-hovered' : '')\r\n  \t\t\t\t\t}\r\n            onMouseOver={this.onHover}\r\n            onMouseLeave={this.offHover}\r\n            onBlur={this.onBlur}\r\n            onFocus={this.onFocus}\r\n          >\r\n            <select value={this.props.value} onChange={this.props.onChange}>\r\n              {this.props.placeholder.length > 0 ? (<option value=\"\" disabled>{this.props.placeholder}</option>) : (<option value=\"\" disabled></option>)}\r\n              {this.props.opts.map((key, val) => {\r\n                return (<option key={val}>{key}</option>);\r\n              })}\r\n            </select>\r\n          </div>\r\n        );\r\n      case 'incrementer':\r\n        return (\r\n          <div className=\"button is-static\">{this.props.value}</div>\r\n        );\r\n\t\t\tdefault:\r\n\t\t\t\treturn null;\r\n\t\t}\r\n  }\r\n}\r\n\r\nexport default BulmaInput;\r\n","import React, { Component } from 'react';\r\n\r\nclass Loading extends Component {\r\n  render() {\r\n\t\treturn (\r\n      <section id=\"loader\" className=\"hero is-fullheight\">\r\n        <h2 className=\"title is-2\">This will just take a moment...</h2>\r\n        <img src={require('../assets/loader.gif')} alt=\"Loading...\"/>\r\n        <h2 className=\"subtitle is-2\">Loading. . .</h2>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loading;\r\n","import React from 'react';\r\n\r\nconst Modal = props => {\r\n  if (props.isActive) {\r\n    return (\r\n      <div className={'modal is-active'}>\r\n        <div className=\"modal-background\"></div>\r\n        <div className=\"modal-card\">\r\n          <header className=\"modal-card-head\">\r\n            <button onClick={props.onClose} className=\"modal-close is-large\" aria-label=\"close\"></button>\r\n          </header>\r\n          <section className=\"modal-card-body\">\r\n            {props.content}\r\n          </section>\r\n          <div className=\"modal-card-foot\">\r\n            <div className=\"buttons\">\r\n              <button onClick={props.onClickConfirm} className={'button is-danger ' + (props.isLoading ? 'is-loading' : '')}>{props.confirmText}</button>\r\n              <button onClick={props.onClose} className=\"button\">Cancel</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Room = props => {\r\n  return (\r\n    <div className={'card room ' + (props.preview ? 'preview' : '')}>\r\n      {props.preview ? (\r\n        <div className=\"card-image\">\r\n          <figure className=\"image is-4by3\">\r\n            <img src={props.featuredImage ? 'http://localhost:3001/api/uploads/' + props.featuredImage : 'https://bulma.io/images/placeholders/640x480.png'} alt=\"Placeholder\" />\r\n          </figure>\r\n        </div>\r\n      ) : (\r\n        <Link to={'/room/' + props.roomId} className=\"card-image\">\r\n          <figure className=\"image is-4by3\">\r\n            <img src={props.featuredImage ? 'http://localhost:3001/api/uploads/' + props.featuredImage : 'https://bulma.io/images/placeholders/640x480.png'} alt=\"Placeholder\" />\r\n          </figure>\r\n        </Link>\r\n      )}\r\n      <div className=\"card-content\">\r\n        <div className=\"details-header\">\r\n          <span style={{flexDirection: 'column'}}>\r\n            <h5 className=\"title is-5\">{props.title ? props.title : 'An Example Title!'}</h5>\r\n            <h6 className=\"subtitle room-type is-6\">{props.roomType ? props.roomType : 'Entire Place'} | {props.propertyType ? props.propertyType : 'Bungalow'}</h6>\r\n          </span>\r\n          <span className=\"price\">{'$' + (props.price ? props.price : '0') + '/ Day'}</span>\r\n        </div>\r\n        <div className=\"details-body\">\r\n          <div className=\"location\">\r\n            <span>{(props.location[0] ? (props.location[0] + ', ' + props.location[1]) : 'Toronto, Canada')}</span>\r\n          </div>\r\n          <div className=\"guests\">\r\n            <span id=\"adult\" className=\"guest\"><i className=\"fa fa-male\"></i><span>{props.guests.adults}</span></span>\r\n            <span id=\"child\" className=\"guest\"><i className=\"fa fa-child\"></i><span>{props.guests.children}</span></span>\r\n          </div>\r\n          {props.currentUser ? (\r\n            props.currentUser.id !== props.ownerId ? (\r\n              props.booked ? (\r\n                <button className=\"button is-warning\" disabled={'disabled'}>Booked!</button>\r\n              ) : (\r\n                <Link to={`/room/${props.roomId}`} className=\"button is-info\">\r\n                  Customize\r\n                </Link>\r\n              )\r\n            ) : (\r\n              <button className=\"button is-text\" disabled={'disabled'}>You own this!</button>\r\n            )\r\n          ) : (\r\n            props.preview ? (\r\n              <button className=\"button is-primary\" disabled={'disabled'}>Instant Book</button>\r\n            ) : (\r\n              <div>\r\n                <a title=\"Signup Required!\" className=\"button is-primary\" disabled={'disabled'}>Instant Book</a>\r\n                <p className=\"help is-danger\">*Signup Required!</p>\r\n              </div>\r\n            )\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Room;\r\n","/* This is used to pass down env vars from the server into react. */\r\nimport { cleanEnv, str } from 'envalid';\r\n\r\nconst env = cleanEnv(process.env, {\r\n  VERSION: str({ default: '5.0.0' }),\r\n});\r\n\r\nexport const { VERSION } = env;\r\n\r\nexport default env;\r\n","// React\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route } from 'react-router-dom';\r\nimport { AnimatedSwitch, spring } from 'react-router-transition';\r\n\r\n// Components\r\nimport Header from './Header';\r\nimport GlobalErrors from '../components/GlobalErrors';\r\n\r\n// Routes\r\nimport Home from './pages/Home';\r\nimport Login from './pages/Login';\r\nimport Signup from './pages/Signup';\r\nimport Rooms from './pages/Rooms';\r\nimport Room from './pages/Room';\r\nimport YourRooms from './pages/YourRooms';\r\nimport RoomEditor from './pages/RoomEditor';\r\nimport Bookings from './pages/Bookings';\r\nimport Settings from './pages/Settings';\r\nimport Four_Oh_Four from '../components/404';\r\nimport Loading from '../components/Loading';\r\n\r\n// styles\r\n// import '../styles/Bulma.scss';\r\nimport '../styles/styles.scss';\r\n\r\n// Actions\r\nimport { APP } from '../actions';\r\n\r\n// HTTP Request agent\r\nimport agent from '../agent';\r\n\r\n// Location and State history\r\n// import { store } from '../store';\r\nimport { push } from 'react-router-redux';\r\n\r\n// Assign Global State to Props\r\nconst mapStateToProps = state => {\r\n  return {\r\n    appLoaded: state.common.appLoaded,\r\n    appName: state.common.appName,\r\n    currentUser: state.common.currentUser,\r\n    redirectTo: state.common.redirectTo,\r\n\t\terrors: state.common.errors\r\n  }\r\n};\r\n\r\n// Assign Redux Actions to Props\r\nconst mapDispatchToProps = dispatch => ({\r\n\tcloseError: (index) => dispatch({ type: APP.CLOSE_ERROR, index: index }),\r\n\tonRedirect: () => dispatch({ type: APP.REDIRECT }),\r\n  onLoad: (payload, token) => {\r\n\t  dispatch({ type: APP.LOAD, payload, token, skipTracking: true })\r\n\t}\r\n});\r\n\r\n/*\r\n* \tApplication Wrapper component.\r\n* \tThis is the first component to render a view for bednblockchain.\r\n*/\r\nclass App extends React.Component {\r\n\tcomponentWillReceiveProps(nextProps) {\r\n    if (nextProps.redirectTo) {\r\n      // store.dispatch(push(nextProps.redirectTo));\r\n      this.props.onRedirect();\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n\t\t// Grab a user token if it exists\r\n    const token = window.localStorage.getItem('jwt');\r\n\r\n\t\t// If there was a token\r\n    if (token) {\r\n\t\t\t// Tell our request agent to use it for all requests.\r\n      agent.setToken(token);\r\n    }\r\n\t\t// Fetch the user from the server and load the app.\r\n    this.props.onLoad(token ? agent.Auth.current() : null, token);\r\n  }\r\n\r\n  render() {\r\n    // wrap the `spring` helper to use a bouncy config\r\n    const bounce = (val) => {\r\n      return spring(val, {\r\n        stiffness: 330,\r\n        damping: 22,\r\n      });\r\n    };\r\n\r\n    const bounceTransition = {\r\n      // start in a transparent, upscaled state\r\n      atEnter: {\r\n        opacity: 0,\r\n        scale: 1,\r\n      },\r\n      // leave in a transparent, downscaled state\r\n      atLeave: {\r\n        opacity: bounce(0),\r\n        scale: bounce(0.9),\r\n      },\r\n      // and rest at an opaque, normally-scaled state\r\n      atActive: {\r\n        opacity: bounce(1),\r\n        scale: bounce(1),\r\n      },\r\n    };\r\n\r\n    const mapStyles = (styles) => {\r\n      return {\r\n        opacity: styles.opacity,\r\n        transform: `scale(${styles.scale})`,\r\n      };\r\n    };\r\n\r\n    return (\r\n      <div className=\"app\">\r\n        <Header\r\n          appName={this.props.appName}\r\n          currentUser={this.props.currentUser}\r\n          appLoaded={this.props.appLoaded}\r\n        />\r\n\t\t\t\t{this.props.errors ? (\r\n\t\t\t\t\t<GlobalErrors errors={this.props.errors} handleClose={this.props.closeError} />\r\n\t\t\t\t) : null}\r\n        {this.props.currentUser ? (\r\n          <AnimatedSwitch\r\n            atEnter={bounceTransition.atEnter}\r\n            atLeave={bounceTransition.atLeave}\r\n            atActive={bounceTransition.atActive}\r\n            mapStyles={mapStyles}\r\n            className=\"route-wrapper\"\r\n          >\r\n            {this.props.appLoaded ? null : (\r\n              <Route component={Loading} />\r\n            )}\r\n            <Route exact path=\"/\" component={Home} />\r\n            <Route exact path=\"/signup\" component={Signup} />\r\n            <Route exact path=\"/login\" component={Login} />\r\n            <Route exact path=\"/rooms\" component={Rooms} />\r\n            <Route exact path=\"/room/:roomId\" component={Room} />\r\n            <Route exact path=\"/bookings\" component={Bookings} />\r\n            <Route exact path=\"/settings\" component={Settings} />\r\n            <Route exact path=\"/your-rooms\" component={YourRooms} />\r\n            <Route exact path=\"/your-rooms/add\" component={RoomEditor} />\r\n  \t\t\t\t\t<Route exact path=\"/your-rooms/edit/:roomId\" component={RoomEditor} />\r\n            <Route component={Four_Oh_Four} />\r\n          </AnimatedSwitch>\r\n        ) : (\r\n          <AnimatedSwitch\r\n            atEnter={bounceTransition.atEnter}\r\n            atLeave={bounceTransition.atLeave}\r\n            atActive={bounceTransition.atActive}\r\n            mapStyles={mapStyles}\r\n            className=\"route-wrapper\"\r\n          >\r\n            {this.props.appLoaded ? null : (\r\n              <Route component={Loading} />\r\n            )}\r\n            <Route exact path=\"/\" component={Home} />\r\n            <Route exact path=\"/signup\" component={Signup} />\r\n            <Route exact path=\"/login\" component={Login} />\r\n            <Route exact path=\"/rooms\" component={Rooms} />\r\n            <Route exact path=\"/room/:roomId\" component={Room} />\r\n            <Route component={Four_Oh_Four} />\r\n          </AnimatedSwitch>\r\n        )}\r\n    \t\t<footer className=\"footer\">\r\n\t\t\t\t  <div className=\"container has-text-centered\">\r\n\t\t\t\t\t\t<nav className=\"level\">\r\n\t\t\t\t\t\t\t<div className=\"level-item has-text-centered\">\r\n\t\t\t\t\t\t\t\t<h4 className=\"subtitle is-4\">Created By</h4>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<p>Tristan Navarrete</p>\r\n\t\t\t\t\t\t\t\t<a href=\"https://tristannavarrete.com/\">{'https://tristannavarrete.com/'}</a>\r\n\t\t\t\t\t\t\t\t<a href=\"https://github.com/Wisedemic/\"><i className=\"fa fa-github\"></i></a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"level-item has-text-centered\">\r\n\t\t\t\t\t\t\t\t<h4 className=\"subtitle is-4\">Made With</h4>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<p className=\"content\">\r\n\t\t\t\t\t\t\t\t\tReact, Redux, Express.js, Webpack\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</nav>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</footer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","// React + Redux\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// Actions\r\nimport { AUTH } from '../actions';\r\n\r\nimport Field from '../components/Field';\r\n\r\n// Assets\r\nimport defaultUserAvatar from '../assets/defaultUserAvatar.png';\r\n\r\nconst mapStateToProps = state => ({\r\n  results: state.common.search.results,\r\n  searchValue: state.common.search.value\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleLogout: () => dispatch({ type: AUTH.LOGOUT })\r\n});\r\n\r\nconst Avatar = props => {\r\n  if (props.avatar) {\r\n    return (\r\n      <img src={props.avatar} alt='User Avatar'/>\r\n    );\r\n  } else {\r\n    return (\r\n      <img src={defaultUserAvatar} alt='User Avatar' />\r\n    );\r\n  }\r\n};\r\n\r\nconst SearchBar = props => {\r\n  return(\r\n    <div className=\"navbar-item\" id=\"search\">\r\n      <Field\r\n        key={'search'}\r\n        type={'search'}\r\n        size={'is-medium'}\r\n        value={props.value}\r\n        placeholder={'Location, city, address'}\r\n        hasIconLeft={'search'}\r\n        onChange={props.onSearch}\r\n        onClick={props.onClickResult}\r\n        results={props.results}\r\n        isLoading={props.loading}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst NavButtons = props => {\r\n  if (props.appLoaded && props.currentUser) {\r\n    return (\r\n\t\t\t<div className=\"navbar-end\">\r\n        <div className=\"navbar-item\">\r\n          <div className=\"field\">\r\n            <p className=\"control\">\r\n              <Link className=\"button is-outlined is-info\" to=\"/rooms/\">\r\n                <span className=\"icon\">\r\n                  <i className=\"fa fa-bed\"></i>\r\n                </span>\r\n                <span>Book Now!</span>\r\n              </Link>\r\n            </p>\r\n          </div>\r\n        </div>\r\n\t      <div className=\"navbar-item has-dropdown is-hoverable\">\r\n          <p className=\"navbar-link\">\r\n            <Avatar avatar={props.currentUser.avatar} />\r\n          </p>\r\n          <div className=\"navbar-dropdown is-right is-boxed\">\r\n            <Link className=\"navbar-item\" to=\"/your-rooms/add\">\r\n              Add Room\r\n            </Link>\r\n            <Link className=\"navbar-item\" to=\"/your-rooms\">\r\n              Your Rooms\r\n            </Link>\r\n            <Link className=\"navbar-item\" to=\"/bookings\">\r\n              Your Bookings\r\n            </Link>\r\n            <Link className=\"navbar-item\" to=\"/settings\">\r\n              Settings\r\n            </Link>\r\n            <div className=\"navbar-divider\"></div>\r\n            <a className=\"navbar-item\" onClick={props.handleLogout}>\r\n            \tLogout\r\n  \t        </a>\r\n          </div>\r\n        </div>\r\n\t\t\t</div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div className=\"navbar-end\">\r\n        <div className=\"navbar-item\">\r\n          <div className=\"field is-grouped\">\r\n            <p className=\"control\">\r\n              <Link className=\"button\" to=\"/signup\">\r\n                Sign Up\r\n              </Link>\r\n            </p>\r\n            <p className=\"control\">\r\n              <Link className=\"button is-primary\" to=\"/login\">\r\n                Log In\r\n              </Link>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      toggled: false\r\n    }\r\n    this.onClickMenu = this.onClickMenu.bind(this);\r\n  }\r\n\r\n  onClickMenu() {\r\n    this.setState((prevState) => {\r\n      return {toggled: !prevState.toggled};\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <nav className=\"navbar is-fixed-top\">\r\n        <div className=\"navbar-brand\">\r\n          <Link to=\"/\" className=\"navbar-item\">\r\n            {this.props.appName}\r\n          </Link>\r\n          <div\r\n            className={'navbar-burger burger' + (this.state.toggled ? ' is-active' : '')}\r\n            data-target=\"navbarMenu\"\r\n            onClick={this.onClickMenu}\r\n            >\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n          </div>\r\n        </div>\r\n\r\n        <div id=\"navbarMenu\" className={'navbar-menu' + (this.state.toggled ? ' is-active' : '')}>\r\n          <div className=\"navbar-start\">\r\n\t\t\t\t\t\t<div className=\"navbar-item has-dropdown is-hoverable\">\r\n\t\t          <Link className=\"navbar-item\" to=\"/rooms\">\r\n\t\t            Browse\r\n\t\t          </Link>\r\n            </div>\r\n            <SearchBar />\r\n\t\t\t\t\t</div>\r\n          <NavButtons\r\n            appLoaded={this.props.appLoaded}\r\n            handleLogout={this.props.handleLogout}\r\n            currentUser={this.props.currentUser}\r\n          />\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\r\n","import React, {\tComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Modal from '../../components/Modal';\r\n\r\nimport agent from '../../agent';\r\n\r\nimport {\r\n  LOAD_PAGE,\r\n  UNLOAD_PAGE,\r\n  BOOKINGS\r\n} from '../../actions';\r\n\r\nconst mapStateToProps = state => ({\r\n  yourBookings: state.bookings.yourBookings,\r\n  userId: state.common.currentUser ? state.common.currentUser.id : null,\r\n  loading: state.bookings.loading,\r\n  reload: state.bookings.reload\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onLoad: (userId) => {\r\n    const payload = agent.Bookings.bookingsByBuyerId(userId);\r\n    dispatch({ type: LOAD_PAGE.BOOKINGS, payload })\r\n  },\r\n  onUnload: () => dispatch({ type: UNLOAD_PAGE.BOOKINGS }),\r\n  closeError: () => dispatch({ type: BOOKINGS.CLOSE_ERROR }),\r\n  deleteBooking: (bookingId) => {\r\n    const payload = agent.Bookings.deleteBooking(bookingId);\r\n    dispatch({ type: BOOKINGS.DELETE, payload });\r\n  }\r\n});\r\n\r\nclass Bookings extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      isModalActive: false,\r\n      bookingId: ''\r\n    };\r\n\r\n    this.closeModal = () => {\r\n      this.setState({isModalActive: false, bookingId: ''});\r\n    };\r\n\r\n    this.activateModal = (bookingId) => {\r\n      this.setState({isModalActive: true, bookingId: bookingId});\r\n    };\r\n\r\n    this.editBooking = id => this.props.editBooking(id);\r\n    this.deleteBooking = id => this.props.deleteBooking(id);\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.reload === true) {\r\n      this.props.onLoad(this.props.userId);\r\n      this.setState({isModalActive: false});\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(this.props);\r\n    this.props.onLoad(this.props.userId);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onUnload();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n\t\t\t<section id=\"bookings\" className=\"hero is-light is-bold is-fullheight\">\r\n        <Modal\r\n          isActive={this.state.isModalActive}\r\n          isLoading={this.props.loading}\r\n          content={'Are you sure you would like to cancel this booking?'}\r\n          confirmText={'Confirm'}\r\n          onClose={this.closeModal}\r\n          onClickConfirm={() => this.props.deleteBooking(this.state.bookingId)}\r\n        />\r\n\t\t\t\t<div className=\"hero-body\">\r\n\t\t\t\t\t<div className=\"container has-text-centered\">\r\n\t\t\t\t\t\t<h2 className=\"title is-2\">Your Bookings</h2>\r\n\t\t\t\t\t\t<div className=\"bookings\">\r\n\t\t\t\t\t\t\t{this.props.yourBookings.length > 0 ? (\r\n\t\t\t\t\t\t\t\tthis.props.yourBookings.map((booking, index) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"box\" key={index}>\r\n                      <figure className=\"image\">\r\n                        <img src={'http://localhost:3001/api/uploads/' + booking.room.featuredImageId} alt=\"Placeholder\" />\r\n                      </figure>\r\n                      <div className=\"details\">\r\n                        <h3 id=\"title\" className=\"title is-5\">{booking.room.title}</h3>\r\n                        <h4 id=\"roomType\" className=\"subtitle booking-type is-6\">{booking.room.roomType} | {booking.room.propertyType}</h4>\r\n                        <h4 id=\"price\" className=\"title is-5\">${booking.price} <span className=\"units\" style={{fontSize: '20px'}}>/ Day</span></h4>\r\n                    </div>\r\n                      <p className=\"buttons\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to={'/room/'+booking.room._id} className=\"button is-info\"><span>View Room Details</span></Link>\r\n                        <Link to={'/bookings/edit/'+booking.id} className=\"button is-info\"><span>Edit Booking</span></Link>\r\n                        <button onClick={() => this.activateModal(booking.id)} className=\"button is-danger is-outlined\">\r\n                          <span className=\"icon\">\r\n                            <i className=\"fa fa-exclamation-triangle\"></i>\r\n                          </span>\r\n                          <span>Cancel</span>\r\n                        </button>\r\n                      </p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}, this)\r\n\t\t\t\t\t\t\t) : (\r\n                <div className=\"box has-text-centered\" style={{flexDirection: 'column'}}>\r\n                  <p className=\"content\">You haven't booked a room yet!</p>\r\n                  <Link to=\"/rooms\" className=\"button is-info\">Book a room!</Link>\r\n                </div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Bookings);\r\n","import React, {\tComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Room from '../../components/Room';\r\n\r\nimport agent from '../../agent';\r\n\r\nimport {\r\n  LOAD_PAGE,\r\n  UNLOAD_PAGE,\r\n  ROOMS\r\n} from '../../actions';\r\n\r\nimport Banner from '../../assets/banner.jpg';\r\n\r\nconst mapStateToProps = state => ({\r\n  currentUser: state.common.currentUser,\r\n  appName: state.common.appName,\r\n  token: state.common.token,\r\n  roomsList: state.rooms.roomsList,\r\n  reload: state.rooms.reload\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onLoad: () => {\r\n    const payload = agent.Rooms.all();\r\n    dispatch({ type: LOAD_PAGE.HOME, payload });\r\n  },\r\n  onUnload: () =>\r\n    dispatch({ type: UNLOAD_PAGE.HOME }),\r\n  bookRoom: (buyerId, ownerId, roomId, price, guests) => {\r\n    console.log('Booking room', buyerId, ownerId, roomId, price, guests);\r\n    const payload = agent.Bookings.bookRoom(buyerId, ownerId, roomId, price, guests);\r\n    dispatch({ type: ROOMS.BOOK, payload });\r\n  }\r\n});\r\n\r\nclass Home extends Component {\r\n  constructor() {\r\n    super();\r\n    this.bookRoom = (ownerId, roomId, price, guests) => this.props.bookRoom(this.props.currentUser.id, ownerId, roomId, price, guests);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.onLoad();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onUnload();\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.reload === true) {\r\n      this.props.onLoad();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n\t\t\t<div>\r\n\t      <section id=\"home\" className=\"hero is-light is-fullheight\">\r\n\t\t\t\t\t<div className=\"banner\" style={{backgroundImage: 'url('+Banner+')'}}></div>\r\n\t\t\t\t\t<div className=\"hero-body\">\r\n\t\t\t\t\t\t<div className=\"container has-text-centered\">\r\n\t\t          <h1 className=\"title is-1\">Find a Room, or List One</h1>\r\n\t\t\t\t\t\t\t<h4 className=\"subtitle is-4\">{this.props.appName} does it all!</h4>\r\n\t\t\t\t\t\t\t<div className=\"columns is-mobile is-centered\">\r\n\t\t\t\t\t\t\t\t<div className=\"column is-narrow\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"field has-addons\">\r\n\t\t\t\t\t\t\t\t\t  <p className=\"control\">\r\n\t\t\t\t\t\t\t\t\t    <Link className=\"button is-info is-outlined is-medium\" to={this.props.token ? '/rooms' : '/login'}>\r\n\t\t\t\t\t\t\t\t\t      <span>Book Now</span>\r\n\t\t\t\t\t\t\t\t\t    </Link>\r\n\t\t\t\t\t\t\t\t\t  </p>\r\n\t\t\t\t\t\t\t\t\t  <p className=\"control\">\r\n\t\t\t\t\t\t\t\t\t    <Link className=\"button is-danger is-outlined is-medium\" to={this.props.token ? '/your-rooms/add' : '/login'}>\r\n\t\t\t\t\t\t\t\t\t      <span>List A Property</span>\r\n\t\t\t\t\t\t\t\t\t    </Link>\r\n\t\t\t\t\t\t\t\t\t  </p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t        </div>\r\n\t      </section>\r\n\t\t\t\t<section id=\"featured\" className=\"hero is-fullheight\">\r\n\t\t\t\t\t<div className=\"hero-body\">\r\n\t\t\t\t\t\t<div className=\"container has-text-centered\">\r\n\t\t\t\t\t\t\t<h2 className=\"title is-2\">Featured Rooms</h2>\r\n\t\t\t\t\t\t\t<div id=\"rooms\">\r\n                {this.props.roomsList.length > 0 ? (\r\n  \t\t\t\t\t\t\t\tthis.props.roomsList.map((room, index) => {\r\n                    const locationObj = room.location.formatted_address.split(', ');\r\n  \t\t\t\t\t\t\t\t\treturn (\r\n                      <Room\r\n                        key={index}\r\n                        onClick={this.bookRoom}\r\n                        roomId={room.id}\r\n                        ownerId={room.ownerId}\r\n                        title={room.title}\r\n                        featuredImage={room.featuredImageId}\r\n                        roomType={room.roomType}\r\n                        propertyType={room.propertyType}\r\n                        price={room.price}\r\n                        guests={room.guests}\r\n                        location={locationObj}\r\n                        booked={room.booked}\r\n                        currentUser={this.props.currentUser}\r\n                      />\r\n  \t\t\t\t\t\t\t\t\t);\r\n  \t\t\t\t\t\t\t\t}, this)\r\n  \t\t\t\t\t\t\t) : (\r\n  \t\t\t\t\t\t\t\t<div className=\"box\">\r\n    \t\t\t\t\t\t\t\t<code>No Rooms Found</code>\r\n    \t\t\t\t\t\t\t</div>\r\n    \t\t\t\t\t\t)}\r\n              </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t</div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport agent from '../../agent';\r\nimport { connect } from 'react-redux';\r\n\r\nimport ErrorList from '../../components/ErrorList';\r\nimport Field from '../../components/Field';\r\n\r\nimport {\r\n\tAUTH,\r\n  LOAD_PAGE,\r\n  UNLOAD_PAGE\r\n} from '../../actions';\r\n\r\n// Mapping Global Redux State to React Props\r\nconst mapStateToProps = state => ({\r\n\t...state.auth,\r\n\temail: state.auth.email,\r\n\tpassword: state.auth.password,\r\n\terrors: state.auth.errors\r\n});\r\n\r\n// Action Creators\r\nconst mapDispatchToProps = dispatch => ({\r\n\tcloseError: (index) => dispatch({ type: AUTH.CLOSE_ERROR, index: index }),\r\n\tonLoad: () => dispatch({ type: LOAD_PAGE.LOGIN }),\r\n\tunLoad: () => dispatch({ type: UNLOAD_PAGE.LOGIN }),\r\n\tonChangeEmail: value => {\r\n\t\tconst key = 'email';\r\n\t\tif (value.length === 0) {\r\n\t\t\tdispatch(AUTH.FieldError(key, 'Email cannot be blank!', 'is-danger', value));\r\n\t\t} else if (!(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(String(value).toLowerCase()))) {\r\n\t\t\tdispatch(AUTH.FieldError(key, 'Must be a proper email! Ex. elon@spacex.com', 'is-danger', value));\r\n\t\t} else {\r\n\t\t\tdispatch({ type: AUTH.UPDATE_FIELD, key: key, value: value })\r\n\t\t}\r\n\t},\r\n  onChangePassword: value => {\r\n\t\tconst key = 'password';\r\n\t\tif (value.length === 0) {\r\n\t\t\tdispatch(AUTH.FieldError(key, 'Password cannot be blank!', 'is-danger', value));\r\n\t\t} else if (value.length > 16 || value.length < 6) {\r\n\t\t\tdispatch(AUTH.FieldError(key, 'Password length must be between 6-16 characters!', 'is-warning', value));\r\n\t\t} else {\r\n\t\t\tdispatch({ type: AUTH.UPDATE_FIELD, key: key, value: value })\r\n\t\t}\r\n\t},\r\n\thandleSubmit: (email, password) => {\r\n\t\tconst payload = agent.Auth.login(email, password);\r\n\t\tconsole.log('PAYLOAD', payload);\r\n\t\tdispatch({ type: AUTH.LOGIN, payload })\r\n\t}\r\n});\r\n\r\nexport class Login extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n    // Grab the input on input Change Events\r\n\t\tthis.onChangeEmail = ev => this.props.onChangeEmail(ev.target.value);\r\n\t\tthis.onChangePassword =  ev => this.props.onChangePassword(ev.target.value);\r\n\r\n\t\t// Form Submit Handling\r\n\t\tthis.submitForm = (email, password, passwordConfirm) => ev => {\r\n\t\t\tev.preventDefault();\r\n\t\t\tthis.props.handleSubmit(email, password);\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\tthis.props.onLoad();\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.unLoad();\r\n\t}\r\n\r\n  render() {\r\n\t\tconst email = this.props.email.value;\r\n    const password = this.props.password.value;\r\n    return (\r\n      <section id=\"signup\" className=\"hero is-light is-fullheight\">\r\n        <div className=\"hero-body\">\r\n\t\t\t\t\t<div className=\"columns is-centered\" style={{flexGrow: 1}}>\r\n\t\t\t\t\t\t<div className=\"column is-half\">\r\n\t\t\t\t\t\t\t<ErrorList\r\n\t\t\t\t\t\t\t\thandleClose={this.props.closeError}\r\n\t\t\t\t\t\t\t\terrors={this.props.errors} />\r\n\t\t\t\t\t\t\t<h2 className=\"title is-2\">Log In</h2>\r\n\t\t\t\t\t\t\t<form onSubmit={this.submitForm(email, password)}>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tkey={'email'}\r\n\t\t\t\t\t\t\t\t\ttype={'text'}\r\n\t\t\t\t\t\t\t\t\tvalue={this.props.email.value}\r\n\t\t\t\t\t\t\t\t\tplaceholder={'Enter your email'}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChangeEmail}\r\n\t\t\t\t\t\t\t\t\tinputState={this.props.email.inputState}\r\n\t\t\t\t\t\t\t\t\tmessage={this.props.email.message}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tkey={'password'}\r\n\t\t\t\t\t\t\t\t\ttype={'password'}\r\n\t\t\t\t\t\t\t\t\tvalue={this.props.password.value}\r\n\t\t\t\t\t\t\t\t\tplaceholder={'Enter your password'}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChangePassword}\r\n\t\t\t\t\t\t\t\t\tinputState={this.props.password.inputState}\r\n\t\t\t\t\t\t\t\t\tmessage={this.props.password.message}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div className=\"field is-grouped\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"control\">\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={'button is-primary' + (this.props.inProgress ? ' is-loading': '') + (this.props.email.valid && this.props.password.valid ? '' : ' is-outlined')}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.submitForm}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={(this.props.email.valid && this.props.password.valid) ? false : 'disabled'}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tLog In\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n                  </p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"or\">or</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"control\">\r\n\t\t\t\t\t\t\t\t\t\t<Link className={'button is-text'} to=\"/signup\">\r\n\t\t\t\t\t\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n                  </p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","import React, {\tComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport Field from '../../components/Field';\r\n\r\nimport agent from '../../agent';\r\n\r\nimport {\r\n  LOAD_PAGE,\r\n  UNLOAD_PAGE,\r\n  ROOMS\r\n} from '../../actions';\r\n\r\nconst mapStateToProps = state => ({\r\n  currentUser: state.common.currentUser,\r\n  currentRoom: state.rooms.currentRoomInView,\r\n  reload: state.rooms.reload,\r\n  loading: state.rooms.loading,\r\n  guests: state.rooms.guests,\r\n\tdates: state.rooms.dates\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onLoad: (id) => {\r\n    const payload = agent.Rooms.getRoom(id);\r\n    dispatch({ type: LOAD_PAGE.ROOM, payload });\r\n  },\r\n  onUnload: () => dispatch({ type: UNLOAD_PAGE.ROOM }),\r\n\tincrementGuests: (guestType) => dispatch({ type: ROOMS.INCREMENT_GUESTS, guestType }),\r\n  decrementGuests: (guestType) => dispatch({ type: ROOMS.DECREMENT_GUESTS, guestType }),\r\n\tchangeDates: (dates) => {\r\n\t\tdispatch({ type: ROOMS.SELECT_DATES, dates })\r\n\t},\r\n\tbookRoom: (buyerId, ownerId, roomId, price, guests) => {\r\n    console.log('Booking room', buyerId, ownerId, roomId, price, guests);\r\n    const payload = agent.Bookings.bookRoom(buyerId, ownerId, roomId, price, guests);\r\n    dispatch({ type: ROOMS.BOOK, payload });\r\n  },\r\n});\r\n\r\nclass Room extends Component {\r\n  constructor() {\r\n    super();\r\n\t\tthis.state = {\r\n\t\t\tisCalendarActive: false,\r\n\t\t\tdates: []\r\n\t\t};\r\n\r\n\t\tthis.deactivateCalendar = () => this.setState({isCalendarActive: true});\r\n\t\tthis.incrementGuests = type => this.props.incrementGuests(type);\r\n    this.decrementGusts = type => this.props.decrementGuests(type);\r\n    this.bookRoom = (price, guests) => this.props.bookRoom(this.props.currentUser.id, this.props.currentRoom.ownerId._id, this.props.currentRoom.id, price, guests);\r\n\t\tthis.onChangeDates = dates => {\r\n\t\t\tthis.props.changeDates(dates);\r\n\t\t\tthis.setState({isCalendarActive: false});\r\n\t\t};\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.onLoad(this.props.match.params.roomId);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onUnload();\r\n  }\r\n\r\n  render() {\r\n    const guests = this.props.guests.value;\r\n    let price = 0;\r\n\t\t// let dates = [];\r\n\t\tif (this.props.currentRoom) {\r\n      price = this.props.currentRoom.price;\r\n    }\r\n    if (this.props.currentRoom) {\r\n      return (\r\n        <div>\r\n  \t      <section id=\"room-header\" className=\"hero is-bold\">\r\n            <div className=\"banner room-banner\" style={{backgroundImage: 'url(http://localhost:3001/api/uploads/'+this.props.currentRoom.featuredImageId+')'}}></div>\r\n\t\t\t      <div className=\"hero-body\">\r\n              <div className=\"container has-text-centered\">\r\n  \t\t          <h1 className=\"title is-1\">{this.props.currentRoom.title}</h1>\r\n  \t\t\t\t\t\t\t<h4 className=\"subtitle is-4\">{this.props.currentRoom.propertyType} | {this.props.currentRoom.roomType}</h4>\r\n  \t\t\t\t\t\t</div>\r\n  \t        </div>\r\n  \t      </section>\r\n  \t\t\t\t<section id=\"room-details\" className=\"hero is-light is-fullheight\">\r\n  \t\t\t\t\t<div className=\"hero-body\">\r\n  \t\t\t\t\t\t<div className=\"container is-fluid\">\r\n                <div className=\"columns\">\r\n                  <div className=\"column\">\r\n      \t\t\t\t\t\t\t<h2 id=\"price\" className=\"title is-2\">${this.props.currentRoom.price} <span className=\"units\" style={{fontSize: '20px'}}>/ Day</span></h2>\r\n                    <p id=\"address\" className=\"content\">\r\n                      <strong>Address: </strong>{this.props.currentRoom.location.formatted_address}\r\n                    </p>\r\n                    <hr />\r\n                    <div id=\"details\">\r\n                      <h5 className=\"subtitle is-5\">Room Details</h5>\r\n                      <p className=\"content\">{this.props.currentRoom.description}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"column sidebar is-one-third\">\r\n                    <div className=\"card\">\r\n                      <div className=\"card-content\">\r\n                        <h5 id=\"booked\" className=\"title is-5\">{this.props.currentRoom.booked ? (<span style={{color: '#e84c3d'}}>This room is booked!</span>) : 'Available for booking!'}</h5>\r\n                        {this.props.currentRoom.booked ? (\r\n                          <Link to=\"/rooms/\" className=\"button is-info\">Browse Rooms</Link>\r\n                        ) : (\r\n                          this.props.currentUser ? (\r\n                            this.props.currentUser.id === this.props.currentRoom.ownerId._id ? (\r\n                              <button className=\"button is-text\" disabled={'disabled'}>You own this property!</button>\r\n                            ) : (\r\n                              <form>\r\n                                <h6 className=\"subtitle is-6\">Customize your booking</h6>\r\n                                  <Field\r\n  \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={'calendar'}\r\n  \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={'Select Dates'}\r\n  \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype={'calendar'}\r\n  \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.props.dates.value}\r\n  \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisHorizontal={true}\r\n  \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactive={this.state.isCalendarActive}\r\n                                    onChange={this.onChangeDates}\r\n  \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.deactivateCalendar}\r\n  \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n  \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n                                  key={'adults'}\r\n                                  label={'Adults'}\r\n                                  type={'incrementer'}\r\n                                  value={this.props.guests.value.adults}\r\n                                  isHorizontal={true}\r\n                                  hasAddonRight={\r\n                                    <div>\r\n                                      <a\r\n                                        className=\"button\"\r\n                                        disabled={(this.props.guests.value.adults === this.props.currentRoom.guests.adults) ? 'disabled' : false}\r\n                                        onClick={this.props.guests.value.adults === this.props.currentRoom.guests.adults ? null : () => this.props.incrementGuests('adults')}>\r\n                                        +\r\n                                      </a>\r\n                                      <span className=\"incrementer-max\">Max: {this.props.currentRoom.guests.adults}</span>\r\n                                    </div>\r\n                                  }\r\n                                  hasAddonLeft={\r\n                                    <a\r\n                                      className=\"button\"\r\n                                      disabled={(this.props.guests.value.adults === 0) ? 'disabled' : false}\r\n                                      onClick={this.props.guests.value.adults === 0 ? null : () => this.props.decrementGuests('adults')}>\r\n                                      -\r\n                                    </a>\r\n                                  }\r\n                                  />\r\n                                <Field\r\n                                  key={'children'}\r\n                                  label={'Children'}\r\n                                  type={'incrementer'}\r\n                                  value={this.props.guests.value.children}\r\n                                  isHorizontal={true}\r\n                                  hasAddonRight={\r\n                                    <div>\r\n                                      <a\r\n                                        className=\"button\"\r\n                                        disabled={this.props.guests.value.children === this.props.currentRoom.guests.children ? 'disabled' : false}\r\n                                        onClick={this.props.guests.value.children === this.props.currentRoom.guests.children ? null : () => this.props.incrementGuests('children')}>\r\n                                        +\r\n                                      </a>\r\n                                      <span className=\"incrementer-max\">Max: {this.props.currentRoom.guests.children}</span>\r\n                                    </div>\r\n                                  }\r\n                                  hasAddonLeft={\r\n                                    <a\r\n                                      className=\"button\"\r\n                                      disabled={(this.props.guests.value.children === 0) ? 'disabled' : false}\r\n                                      onClick={this.props.guests.value.children === 0 ? null : () => this.props.decrementGuests('children')}>\r\n                                      -\r\n                                    </a>\r\n                                  }\r\n                                />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"field is-horizontal\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"field-label is-normal\">Price</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"field-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"content\"></p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n                                <div className=\"field\">\r\n                                  <p className=\"control\">\r\n                                    <button\r\n                                      className={'button is-success' +\r\n                                        (this.props.loading ? ' is-loading': '') +\r\n                                        (this.props.guests.valid ? '' : ' is-outlined')\r\n                                      }\r\n                                      onClick={() => this.bookRoom(price, guests)}\r\n                                      disabled={this.props.guests.valid ? false : 'disabled'}\r\n                                      >\r\n                                      Submit\r\n                                    </button>\r\n                                  </p>\r\n                                  <p className=\"help is-success\">{this.props.message ? this.props.message : null}</p>\r\n                                </div>\r\n                              </form>\r\n                            )\r\n                          ) : (\r\n                            <Link to=\"/signup/\" className=\"button is-info\">Signup to Book!</Link>\r\n                          )\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n  \t\t\t\t\t\t</div>\r\n  \t\t\t\t\t</div>\r\n  \t\t\t\t</section>\r\n        </div>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Room);\r\n","import React, {\tComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport ErrorList from '../../components/ErrorList';\r\nimport Field from '../../components/Field';\r\nimport Room from '../../components/Room';\r\n\r\nimport agent from '../../agent';\r\n\r\nimport {\r\n  LOAD_PAGE,\r\n  UNLOAD_PAGE,\r\n  ROOMS,\r\n  ROOMEDITOR\r\n} from '../../actions';\r\n\r\nconst dateTypeOptions = [\r\n\t'Always Available',\r\n\t'Select Date Range',\r\n\t'Select Unavailable Dates'\r\n];\r\n\r\nconst HomeTypes = [\r\n  'Entire Place',\r\n  'Private Room',\r\n  'Shared Room'\r\n];\r\n\r\nconst PropertyTypes = [\r\n  'House',\r\n  'Bed and Breakfast',\r\n  'Bungalow',\r\n  'Chalet',\r\n  'Cottage',\r\n  'Guesthouse',\r\n  'Guest suite',\r\n  'Hotel',\r\n  'Resort',\r\n  'Loft',\r\n  'Townhouse',\r\n  'Villa'\r\n];\r\n\r\nconst mapStateToProps = state => ({\r\n  ...state,\r\n  userId: state.common.currentUser.id,\r\n\tmode: state.roomEditor.mode,\r\n  message: state.roomEditor.message,\r\n  title: state.roomEditor.title,\r\n  desc: state.roomEditor.desc,\r\n  propertyType: state.roomEditor.propertyType,\r\n  roomType: state.roomEditor.roomType,\r\n  location: state.roomEditor.location,\r\n  price: state.roomEditor.price,\r\n  guests: state.roomEditor.guests,\r\n\tfeaturedImage: state.roomEditor.featuredImage\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onLoad: (url) => {\r\n    console.log(url);\r\n    if (url.path === '/your-rooms/add') {\r\n      dispatch({ type: LOAD_PAGE.ROOMEDITOR, mode: 'add' });\r\n    } else if(url.params.roomId) {\r\n      const payload = agent.Rooms.getRoom(url.params.roomId);\r\n      dispatch({ type: LOAD_PAGE.ROOMEDITOR, mode: 'edit', payload });\r\n    } else {\r\n      // Something wrong\r\n      console.log(url);\r\n    }\r\n  },\r\n  onUnload: () =>\tdispatch({ type: UNLOAD_PAGE.ROOMEDITOR }),\r\n\tcloseError: (index) => dispatch({ type: ROOMEDITOR.CLOSE_ERROR, index: index }),\r\n  handleSubmit: (userId, title, desc, propertyType, roomType, location, price, guests, featuredImageId, mode, roomId) => {\r\n\r\n    if (mode === 'edit') {\r\n      const payload = agent.Rooms.editRoom(roomId, title, desc, propertyType, roomType, location, price, guests, featuredImageId);\r\n      dispatch({ type: ROOMS.EDIT, payload });\r\n    } else if (mode === 'add') {\r\n      const payload = agent.Rooms.add(userId, title, desc, propertyType, roomType, location, price, guests, featuredImageId);\r\n      dispatch({ type: ROOMS.ADD, payload });\r\n    }\r\n  },\r\n  onChangeTitle: value => {\r\n\t\tconst key = 'title';\r\n\t\tif (value.length === 0) {\r\n      dispatch(ROOMEDITOR.FieldError(key, 'Title cannot be blank!', 'is-danger', value));\r\n\t\t} else if (value.length < 6 || value.length > 90) {\r\n      dispatch(ROOMEDITOR.FieldError(key, 'Title cannot be blank!', 'is-danger', value));\r\n\t\t} else {\r\n\t\t\tdispatch({ type: ROOMEDITOR.UPDATE_FIELD, key, value: value });\r\n\t\t}\r\n\t},\r\n  onChangeDesc: value => {\r\n\t\tconst key = 'desc';\r\n\t\tif (value.length === 0) {\r\n      dispatch(ROOMEDITOR.FieldError(key, 'Description cannot be blank!', 'is-danger', value));\r\n\t\t} else if (value.length < 6 || value.length > 1000) {\r\n      dispatch(ROOMEDITOR.FieldError(key, 'Must be between 6-1000 characters!', 'is-warning', value));\r\n\t\t} else {\r\n\t\t\tdispatch({ type: ROOMEDITOR.UPDATE_FIELD, key, value: value })\r\n\t\t}\r\n\t},\r\n  onChangePropertyType: value => {\r\n    const key = 'propertyType';\r\n\t\tif (!PropertyTypes.includes(value)) {\r\n\t\t\tdispatch(ROOMEDITOR.FieldError(key, 'NO TAMPERING FIELDS!', 'is-danger', value));\r\n\t\t} else {\r\n\t\t\tdispatch({ type: ROOMEDITOR.UPDATE_FIELD, key, value: value })\r\n\t\t}\r\n  },\r\n  onChangeHomeType: value => {\r\n    const key = 'roomType';\r\n    if (!HomeTypes.includes(value)) {\r\n      dispatch(ROOMEDITOR.FieldError(key, 'NO TAMPERING FIELDS!', 'is-danger', value));\r\n\t\t} else {\r\n\t\t\tdispatch({ type: ROOMEDITOR.UPDATE_FIELD, key, value: value });\r\n\t\t}\r\n  },\r\n\tincrementGuests: (guestType) => dispatch({ type: ROOMEDITOR.INCREMENT_GUESTS, guestType }),\r\n  decrementGuests: (guestType) => dispatch({ type: ROOMEDITOR.DECREMENT_GUESTS, guestType }),\r\n\tonChangeLocation: (value) => {\r\n    const key = 'location';\r\n\t\tif (value.length === 0) {\r\n      dispatch(ROOMEDITOR.FieldError(key, 'Location cannot be blank!', 'is-danger', {formatted_address: ''}));\r\n\t\t} else {\r\n\t\t\tconst payload = agent.Maps.findAddress(value);\r\n\t\t\tdispatch({ type: ROOMEDITOR.UPDATE_FIELD, key, value });\r\n\t\t\tdispatch({ type: ROOMEDITOR.FETCH_GMAPS_RESULTS, payload });\r\n\t\t}\r\n  },\r\n\tonClickLocation: (value) => {\r\n\t\t\tdispatch({ type: ROOMEDITOR.UPDATE_LOCATION_FROM_SUGGESTION, value })\r\n  },\r\n\tonChangePrice: (value) => {\r\n    const key = 'price';\r\n    if (!value || value === 0) {\r\n      dispatch(ROOMEDITOR.FieldError(key, 'A price is required!', 'is-danger', value));\r\n\t\t} else if (value > 100000) {\r\n        dispatch(ROOMEDITOR.FieldError(key, 'Price is too high!', 'is-warning', value));\r\n    } else {\r\n\t\t\tdispatch({ type: ROOMEDITOR.UPDATE_FIELD, key, value: value })\r\n\t\t}\r\n  },\r\n\tonChangeCalendarType: (type) => {\r\n\t\tconst key = 'dates';\r\n\t\tif (!dateTypeOptions.includes(type)) {\r\n\t\t\tdispatch(ROOMEDITOR.FieldError(key, 'NO TAMPERING FIELDS!', 'is-danger', []));\r\n\t\t} else {\r\n\t\t\tdispatch({ type: ROOMS.UPDATE_CALENDAR_TYPE, type });\r\n\t\t}\r\n\t},\r\n\tonChangeFeaturedImage: (file) => {\r\n\t\tconst key = 'featuredImage';\r\n\t\tif (!file) {\r\n\t\t\tconsole.log('No File!');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (file.size > 16000000) {\r\n      dispatch(\r\n        ROOMEDITOR.FieldError(\r\n          key,\r\n          'File size can be no larger than 16MB\\'s',\r\n          'is-danger',\r\n          {file_id: '', file_name: '', image: ''}\r\n        )\r\n      );\r\n\t\t} else if (file.size < 20) {\r\n      dispatch(\r\n        RoomEditor(\r\n          key,\r\n          'Must upload a featured image!',\r\n          'is-danger',\r\n          {\r\n  \t\t\t\t\tfile_id: '',\r\n  \t\t\t\t\tfile_name: '',\r\n  \t\t\t\t\timage: ''\r\n  \t\t\t\t}\r\n        )\r\n      );\r\n\t\t} else {\r\n\t\t\tconst formData = new FormData();\r\n      formData.append('file', file);\r\n\t\t\tconst payload = agent.Uploads.asyncFileUpload(formData);\r\n\t\t\tconsole.log('PAYLOAD', payload);\r\n\t\t\tdispatch({ type: ROOMEDITOR.UPLOAD_FEATURED_IMAGE, payload: payload});\r\n\t\t}\r\n\t}\r\n});\r\n\r\nclass RoomEditor extends Component {\r\n  constructor() {\r\n    super();\r\n    this.onChangeTitle = ev => this.props.onChangeTitle(ev.target.value);\r\n    this.onChangeDesc = ev => this.props.onChangeDesc(ev.target.value);\r\n    this.onChangePropertyType = ev => this.props.onChangePropertyType(ev.target.value);\r\n    this.onChangeHomeType = ev => this.props.onChangeHomeType(ev.target.value);\r\n\t\tthis.onChangeLocation = ev => this.props.onChangeLocation(ev.target.value);\r\n\t\tthis.onClickLocation = value => this.props.onClickLocation(value);\r\n    this.onChangePrice = ev => this.props.onChangePrice(ev.target.value);\r\n    this.incrementGuests = type => this.props.incrementGuests(type);\r\n    this.decrementGusts = type => this.props.decrementGuests(type);\r\n\t\tthis.onChangeFeaturedImage = ev => this.props.onChangeFeaturedImage((ev.target.files[0]));\r\n\t\tthis.deactivateCalendar = () => this.setState({isCalendarActive: true});\r\n\t\tthis.onChangeDates = dates => {\r\n\t\t\tthis.props.changeDates(dates);\r\n\t\t\tthis.setState({isCalendarActive: false});\r\n\t\t};\r\n\r\n    this.submitForm = (title, desc, propertyType, roomType, location, price, guests, featuredImageId) => ev => {\r\n      ev.preventDefault();\r\n      // Don't send form if required fields aren't filled out.\r\n      if (\r\n        this.props.title.valid &&\r\n        this.props.desc.valid &&\r\n        this.props.propertyType.valid &&\r\n        this.props.roomType.valid &&\r\n        this.props.location.valid &&\r\n        this.props.price.valid &&\r\n\t\t\t\tthis.props.featuredImage.valid\r\n\r\n      ) {\r\n        if (this.props.match.params.roomId) {\r\n          this.props.handleSubmit(this.props.userId, title, desc, propertyType, roomType, location, price, guests, featuredImageId, this.props.mode, this.props.match.params.roomId);\r\n        } else {\r\n          this.props.handleSubmit(this.props.userId, title, desc, propertyType, roomType, location, price, guests, featuredImageId, this.props.mode);\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n\t\tthis.props.onLoad(this.props.match);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onUnload();\r\n  }\r\n\r\n  render() {\r\n    const title = this.props.title.value;\r\n    const desc = this.props.desc.value;\r\n    const propertyType = this.props.propertyType.value;\r\n\t\tconst roomType = this.props.roomType.value;\r\n\t\tconst location = this.props.location.value;\r\n    const price = this.props.price.value;\r\n\t\tconst guests = this.props.guests.value;\r\n\t\tconst featuredImageId = this.props.featuredImage.value.file_id;\r\n    const locationObj = this.props.location.value.formatted_address.split(', ');\r\n\r\n    return (\r\n      <section id=\"roomEditor\" className=\"hero is-light is-bold is-fullheight\">\r\n        <div className=\"hero-body\">\r\n          <div className=\"container\">\r\n            <h2 className=\"title is-2\">Add A Room</h2>\r\n            <div className=\"box\">\r\n\t\t\t\t\t\t\t<ErrorList handleClose={this.props.closeError} errors={this.props.errors} />\r\n              <form onSubmit={this.submitForm(title, desc, propertyType, roomType, location, price, guests, featuredImageId)}>\r\n\t\t\t\t\t\t\t\t<div id=\"previewer\" className=\"field is-horizontal\">\r\n                  <label className=\"field-label is-normal\">Preview</label>\r\n                  <div className=\"field-body\">\r\n                    <Room\r\n                      preview={true}\r\n                      title={this.props.title.value}\r\n                      featuredImage={this.props.featuredImage.value.file_id}\r\n                      roomType={this.props.roomType.value}\r\n                      propertyType={this.props.propertyType.value}\r\n                      price={this.props.price.value}\r\n                      guests={this.props.guests.value}\r\n                      location={locationObj}\r\n                    />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n                </div>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tkey={'title'}\r\n\t\t\t\t\t\t\t\t\ttype={'text'}\r\n                  label={'Title'}\r\n\t\t\t\t\t\t\t\t\tvalue={this.props.title.value}\r\n                  isHorizontal={true}\r\n\t\t\t\t\t\t\t\t\tplaceholder={'A Stunning Two Bedroom Home!'}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChangeTitle}\r\n\t\t\t\t\t\t\t\t\tinputState={this.props.title.inputState}\r\n\t\t\t\t\t\t\t\t\tmessage={this.props.title.message}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tkey={'desc'}\r\n                  label={'Description'}\r\n\t\t\t\t\t\t\t\t\ttype={'textarea'}\r\n\t\t\t\t\t\t\t\t\tvalue={this.props.desc.value}\r\n                  isHorizontal={true}\r\n\t\t\t\t\t\t\t\t\tplaceholder={'This gorgeous home has everything you need...'}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChangeDesc}\r\n\t\t\t\t\t\t\t\t\tinputState={this.props.desc.inputState}\r\n\t\t\t\t\t\t\t\t\tmessage={this.props.desc.message}\r\n\t\t\t\t\t\t\t\t/>\r\n                <Field\r\n                  key={'propertyType'}\r\n                  label={'Property Type'}\r\n                  type={'select'}\r\n                  value={this.props.propertyType.value}\r\n                  opts={PropertyTypes}\r\n                  isHorizontal={true}\r\n                  placeholder={'Please Select'}\r\n                  onChange={this.onChangePropertyType}\r\n                  inputState={this.props.propertyType.inputState}\r\n                  message={this.props.propertyType.message}\r\n                />\r\n                <Field\r\n                  key={'roomType'}\r\n                  label={'Home Type'}\r\n                  type={'select'}\r\n                  value={this.props.roomType.value}\r\n                  opts={HomeTypes}\r\n                  placeholder={'Please Select'}\r\n                  isHorizontal={true}\r\n                  onChange={this.onChangeHomeType}\r\n                  inputState={this.props.roomType.inputState}\r\n                  message={this.props.roomType.message}\r\n                />\r\n                <Field\r\n                  key={'location'}\r\n                  label={'Location'}\r\n                  type={'location'}\r\n                  size={'is-medium'}\r\n                  value={this.props.location.value.formatted_address}\r\n                  placeholder={'Type the address to search...'}\r\n                  isHorizontal={true}\r\n                  hasIconLeft={'search'}\r\n                  onChange={this.onChangeLocation}\r\n\t\t\t\t\t\t\t\t\tonClick={this.onClickLocation}\r\n                  inputState={this.props.location.inputState}\r\n                  message={this.props.location.message}\r\n\t\t\t\t\t\t\t\t\tresults={this.props.location.results}\r\n                  isLoading={this.props.location.loading}\r\n                />\r\n                <Field\r\n                  key={'price'}\r\n                  label={'Price'}\r\n                  type={'number'}\r\n                  value={this.props.price.value}\r\n                  isHorizontal={true}\r\n                  hasAddonLeft={(<a className=\"button is-static\">$</a>)}\r\n                  hasAddonRight={(<a className=\"button is-static\">/ Day</a>)}\r\n                  placeholder={'180'}\r\n                  onChange={this.onChangePrice}\r\n                  inputState={this.props.price.inputState}\r\n                  message={this.props.price.message}\r\n                />\r\n\r\n\t\t\t\t\t\t\t\t<Field\r\n                  key={'calendarType'}\r\n                  label={'Availability Type'}\r\n                  type={'select'}\r\n                  value={this.props.dates.type}\r\n                  opts={dateTypeOptions}\r\n                  isHorizontal={true}\r\n                  placeholder={'Please Select'}\r\n                  onChange={this.onChangeCalendarType}\r\n                  inputState={this.props.dates.inputState}\r\n                  message={this.props.dates.message}\r\n                />\r\n\t\t\t\t\t\t\t\t{this.props.dates.type ? (\r\n                  null\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tkey={'calendar'}\r\n\t\t\t\t\t\t\t\t\t\tlabel={'Availability'}\r\n\t\t\t\t\t\t\t\t\t\ttype={'calendar'}\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.props.dates.value}\r\n\t\t\t\t\t\t\t\t\t\tisHorizontal={true}\r\n\t\t\t\t\t\t\t\t\t\tactive={this.isCalendarActive}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeDates}\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.deactivateCalendar}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n                <Field\r\n                  key={'children'}\r\n                  label={'Max Children'}\r\n                  type={'incrementer'}\r\n                  value={this.props.guests.value.children}\r\n                  isHorizontal={true}\r\n                  hasAddonLeft={(<a className=\"button\" onClick={() => this.props.incrementGuests('children')}>+</a>)}\r\n                  hasAddonRight={(<a className=\"button\" onClick={() => this.props.decrementGuests('children')}>-</a>)}\r\n                />\r\n                <Field\r\n  \t\t\t\t\t\t\t\tkey={'featuredImage'}\r\n  \t\t\t\t\t\t\t\tlabel={'Featured Image'}\r\n  \t\t\t\t\t\t\t\ttype={'file'}\r\n  \t\t\t\t\t\t\t\tvalue={this.props.featuredImage.value}\r\n  \t\t\t\t\t\t\t\tisLoading={this.props.featuredImage.loading}\r\n  \t\t\t\t\t\t\t\tisHorizontal={true}\r\n  \t\t\t\t\t\t\t\tonChange={this.onChangeFeaturedImage}\r\n  \t\t\t\t\t\t\t\tinputState={this.props.featuredImage.inputState}\r\n  \t\t\t\t\t\t\t\tmessage={this.props.featuredImage.message}\r\n  \t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"control\">\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={'button is-success' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t(this.props.inProgress ? ' is-loading': '') +\r\n\t\t\t\t\t\t\t\t\t\t\t\t((this.props.title.valid &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.desc.valid &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.roomType.valid &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.propertyType.valid &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.location.valid &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.price.valid &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.featuredImage.valid\r\n                        ) ? '' : ' is-outlined')\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.submitForm}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n                        (this.props.title.valid &&\r\n                          this.props.desc.valid &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.roomType.valid &&\r\n                          this.props.propertyType.valid &&\r\n                          this.props.location.valid &&\r\n                          this.props.price.valid &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.featuredImage.valid) ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfalse : 'disabled'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n                  </p>\r\n                  <p className=\"help is-success\">{this.props.message ? this.props.message : null}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RoomEditor);\r\n","import React, {\tComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\n// import { Link } from 'react-router-dom';\r\nimport agent from '../../agent';\r\n\r\nimport Room from '../../components/Room';\r\n\r\nimport Banner from '../../assets/banner6.jpg';\r\n\r\nimport {\r\n  LOAD_PAGE,\r\n  UNLOAD_PAGE,\r\n  ROOMS\r\n} from '../../actions';\r\n\r\nconst mapStateToProps = state => ({\r\n  currentUser: state.common.currentUser,\r\n  roomsList: state.rooms.roomsList,\r\n  reload: state.rooms.reload\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onLoad: () => {\r\n    const payload = agent.Rooms.all();\r\n    dispatch({ type: LOAD_PAGE.ROOMS, payload });\r\n  },\r\n  onUnload: () => dispatch({ type: UNLOAD_PAGE.ROOMS }),\r\n  bookRoom: (buyerId, ownerId, roomId, price, guests) => {\r\n    console.log('Booking room', buyerId, ownerId, roomId, price, guests);\r\n    const payload = agent.Bookings.bookRoom(buyerId, ownerId, roomId, price, guests);\r\n    dispatch({ type: ROOMS.BOOK, payload });\r\n  }\r\n});\r\n\r\nclass Rooms extends Component {\r\n  constructor() {\r\n    super();\r\n    this.bookRoom = (ownerId, roomId, price, guests) => this.props.bookRoom(this.props.currentUser.id, ownerId, roomId, price, guests);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.onLoad();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onUnload();\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.reload === true) {\r\n      this.props.onLoad();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n\t\t\t<section id=\"browse\" className=\"hero is-light is-bold is-fullheight\">\r\n        <div className=\"hero-head\">\r\n          <div className=\"hero-banner\" style={{backgroundImage: 'url('+Banner+')'}}></div>\r\n          <div className=\"container has-text-centered\">\r\n            <h2 className=\"title is-2\">Browse Rooms</h2>\r\n          </div>\r\n        </div>\r\n\t\t\t\t<div className=\"hero-body\">\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<div id=\"rooms\">\r\n\t\t\t\t\t\t\t{this.props.roomsList.length > 0 ? (\r\n\t\t\t\t\t\t\t\tthis.props.roomsList.map((room, index) => {\r\n                  const locationObj = room.location.formatted_address.split(', ');\r\n\t\t\t\t\t\t\t\t\treturn (\r\n                    <Room\r\n                      key={index}\r\n                      onClick={this.bookRoom}\r\n                      roomId={room.id}\r\n                      ownerId={room.ownerId}\r\n                      title={room.title}\r\n                      featuredImage={room.featuredImageId}\r\n                      roomType={room.roomType}\r\n                      propertyType={room.propertyType}\r\n                      price={room.price}\r\n                      guests={room.guests}\r\n                      location={locationObj}\r\n                      booked={room.booked}\r\n                      currentUser={this.props.currentUser}\r\n                    />\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}, this)\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=\"box\">\r\n\t\t\t\t\t\t\t\t<code>No Rooms Found</code>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Rooms);\r\n","import React, { Component } from 'react';\r\n// import { Link } from 'react-router-dom';\r\nimport agent from '../../agent';\r\nimport { connect } from 'react-redux';\r\n\r\nimport ErrorList from '../../components/ErrorList';\r\n// import Field from '../../components/Field';\r\n\r\nimport {\r\n\tLOAD_PAGE,\r\n\tUNLOAD_PAGE,\r\n\tSETTINGS,\r\n\tCLOSE_ERROR\r\n} from '../../actions';\r\n\r\n// Mapping Global Redux State to React Props\r\nconst mapStateToProps = state => ({\r\n\t...state.auth,\r\n\temail: state.auth.email,\r\n\tpassword: state.auth.password,\r\n\tpasswordConfirm: state.auth.passwordConfirm\r\n});\r\n\r\n// Action Creators\r\nconst mapDispatchToProps = dispatch => ({\r\n\tcloseError: (index) => dispatch({ type: SETTINGS.CLOSE_ERROR, index: index }),\r\n\tonLoad: () => dispatch({ type: LOAD_PAGE.SETTINGS }),\r\n\tonUnload: () => dispatch({ type: UNLOAD_PAGE.SETTINGS }),\r\n\tonChangeEmail: value => {\r\n\t\tconst key = 'email';\r\n\t\tif (value.length === 0) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: SETTINGS.FIELD_ERROR,\r\n\t\t\t\tkey: key,\r\n\t\t\t\tmessage: 'Email cannot be blank!',\r\n\t\t\t\tinputState: 'is-danger',\r\n\t\t\t\tvalue: value\r\n\t\t\t});\r\n\t\t} else if (!(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(String(value).toLowerCase()))) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: SETTINGS.FIELD_ERROR,\r\n\t\t\t\tkey: key,\r\n\t\t\t\tmessage: 'Must be a proper email! Ex. elon@spacex.com',\r\n\t\t\t\tinputState: 'is-danger',\r\n\t\t\t\tvalue: value\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tdispatch({ type: SETTINGS.UPDATE_FIELD, key: key, value: value })\r\n\t\t}\r\n\t},\r\n  onChangePassword: value => {\r\n\t\tconst key = 'password';\r\n\t\t\tif (value.length === 0) {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: SETTINGS.FIELD_ERROR,\r\n\t\t\t\t\tkey: key,\r\n\t\t\t\t\tmessage: 'Password cannot be blank!',\r\n\t\t\t\t\tinputState: 'is-danger',\r\n\t\t\t\t\tvalue: value\r\n\t\t\t\t});\r\n\t\t\t} else if (value.length > 16 || value.length < 6) {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: SETTINGS.FIELD_ERROR,\r\n\t\t\t\t\tkey: key,\r\n\t\t\t\t\tmessage: 'Password length must be between 6-16 characters!',\r\n\t\t\t\t\tinputState: 'is-warning',\r\n\t\t\t\t\tvalue: value\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tdispatch({ type: SETTINGS.UPDATE_FIELD, key: key, value: value })\r\n\t\t\t}\r\n\t},\r\n  onChangePasswordConfirm: (password, passwordConfirm) => {\r\n\tconst key = 'passwordConfirm';\r\n\tif (passwordConfirm.length === 0) {\r\n\t\tdispatch({\r\n\t\t\ttype: SETTINGS.FIELD_ERROR,\r\n\t\t\tkey: key,\r\n\t\t\tmessage: 'Password cannot be blank!',\r\n\t\t\tinputState: 'is-danger',\r\n\t\t\tvalue: passwordConfirm\r\n\t\t});\r\n\t} else if (passwordConfirm.length > 16 || passwordConfirm.length < 6) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: SETTINGS.FIELD_ERROR,\r\n\t\t\t\tkey: key,\r\n\t\t\t\tmessage: 'Password length must be between 6-16 characters!',\r\n\t\t\t\tinputState: 'is-warning',\r\n\t\t\t\tvalue: passwordConfirm\r\n\t\t\t});\r\n\t\t} else if (password !== passwordConfirm) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: SETTINGS.FIELD_ERROR,\r\n\t\t\t\tkey: key,\r\n\t\t\t\tmessage: 'Passwords Must Match!',\r\n\t\t\t\tinputState: 'is-danger',\r\n\t\t\t\tvalue: passwordConfirm\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tdispatch({ type: SETTINGS.UPDATE_FIELD, key: key, value: passwordConfirm })\r\n\t\t}\r\n\t},\r\n\thandleSubmit: (email, password, passwordConfirm) => {\r\n\t\tconst payload = agent.Auth.signup(email, password, passwordConfirm);\r\n\t\tconsole.log('PAYLOAD', payload);\r\n\t\tdispatch({ type: SETTINGS.UPDATE_SETTINGS, payload })\r\n\t}\r\n});\r\n\r\nexport class Settings extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\t// Grab the input on input Change Events\r\n\t\tthis.onChangeEmail = ev => this.props.onChangeEmail(ev.target.value);\r\n\t\tthis.onChangePassword =  ev => this.props.onChangePassword(ev.target.value);\r\n\t\tthis.onChangePasswordConfirm =  ev =>this.props.onChangePasswordConfirm(this.props.password.value, ev.target.value);\r\n\r\n\t\t// Form Submit Handling\r\n\t\tthis.submitForm = (email, password, passwordConfirm) => ev => {\r\n\t\t\tev.preventDefault();\r\n\t\t\tthis.props.handleSubmit(email, password, passwordConfirm);\r\n\t\t}\r\n\t}\r\n\tcomponentWillMount() {\r\n\t\tthis.props.onLoad();\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.onUnload();\r\n\t}\r\n\r\n  render() {\r\n\t\t// const email = this.props.email.value;\r\n    // const password = this.props.password.value;\r\n    // const passwordConfirm = this.props.passwordConfirm.value;\r\n    return (\r\n      <section id=\"settings\" className=\"hero is-light is-fullheight\">\r\n        <div className=\"hero-body\">\r\n\t\t\t\t\t<div className=\"columns is-centered\" style={{flexGrow: 1}}>\r\n\t\t\t\t\t\t<div className=\"column is-half\">\r\n\t\t\t\t\t\t\t<ErrorList\r\n\t\t\t\t\t\t\t\thandleClose={this.props.closeError}\r\n\t\t\t\t\t\t\t\terrors={this.props.errors} />\r\n              <h1 className=\"title is-1\">Settings</h1>\r\n              <div className=\"box\">\r\n  \t\t\t\t\t\t\t{/*<form onSubmit={this.submitForm(email, password, passwordConfirm)}>\r\n  \t\t\t\t\t\t\t\t<Field\r\n  \t\t\t\t\t\t\t\t\tkey={'email'}\r\n  \t\t\t\t\t\t\t\t\ttype={'text'}\r\n  \t\t\t\t\t\t\t\t\tvalue={this.props.email.value}\r\n  \t\t\t\t\t\t\t\t\tplaceholder={'Enter your email'}\r\n  \t\t\t\t\t\t\t\t\tonChange={this.onChangeEmail}\r\n  \t\t\t\t\t\t\t\t\tinputState={this.props.email.inputState}\r\n  \t\t\t\t\t\t\t\t\tmessage={this.props.email.message}\r\n  \t\t\t\t\t\t\t\t/>\r\n  \t\t\t\t\t\t\t\t<Field\r\n  \t\t\t\t\t\t\t\t\tkey={'password'}\r\n  \t\t\t\t\t\t\t\t\ttype={'password'}\r\n  \t\t\t\t\t\t\t\t\tvalue={this.props.password.value}\r\n  \t\t\t\t\t\t\t\t\tplaceholder={'Enter your password'}\r\n  \t\t\t\t\t\t\t\t\tonChange={this.onChangePassword}\r\n  \t\t\t\t\t\t\t\t\tinputState={this.props.password.inputState}\r\n  \t\t\t\t\t\t\t\t\tmessage={this.props.password.message}\r\n  \t\t\t\t\t\t\t\t/>\r\n  \t\t\t\t\t\t\t\t<Field\r\n  \t\t\t\t\t\t\t\t\tkey={'passwordConfirm'}\r\n  \t\t\t\t\t\t\t\t\ttype={'password'}\r\n  \t\t\t\t\t\t\t\t\tvalue={this.props.passwordConfirm.value}\r\n  \t\t\t\t\t\t\t\t\tplaceholder={'Re-enter password'}\r\n  \t\t\t\t\t\t\t\t\tonChange={this.onChangePasswordConfirm}\r\n  \t\t\t\t\t\t\t\t\tinputState={this.props.passwordConfirm.inputState}\r\n  \t\t\t\t\t\t\t\t\tmessage={this.props.passwordConfirm.message}\r\n  \t\t\t\t\t\t\t\t/>\r\n  \t\t\t\t\t\t\t\t<div className=\"field\">\r\n  \t\t\t\t\t\t\t\t\t<p className=\"control\">\r\n  \t\t\t\t\t\t\t\t\t\t<button\r\n  \t\t\t\t\t\t\t\t\t\t\tclassName={'button is-primary' + (this.props.inProgress ? ' is-loading': '') + (this.props.email.valid && this.props.password.valid && this.props.passwordConfirm.valid ? '' : ' is-outlined')}\r\n  \t\t\t\t\t\t\t\t\t\t\tonClick={this.submitForm}\r\n  \t\t\t\t\t\t\t\t\t\t\tdisabled={(this.props.email.valid && this.props.password.valid && this.props.passwordConfirm.valid) ? false : 'disabled'}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n  \t\t\t\t\t\t\t\t\t\t\tSave\r\n  \t\t\t\t\t\t\t\t\t\t</button>\r\n  \t\t\t\t\t\t\t\t\t</p>\r\n  \t\t\t\t\t\t\t\t</div>\r\n  \t\t\t\t\t\t\t</form> */}\r\n              </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport agent from '../../agent';\r\nimport { connect } from 'react-redux';\r\n\r\nimport ErrorList from '../../components/ErrorList';\r\nimport Field from '../../components/Field';\r\n\r\nimport {\r\n\tLOAD_PAGE,\r\n\tUNLOAD_PAGE,\r\n\tAUTH\r\n} from '../../actions';\r\n\r\n// Mapping Global Redux State to React Props\r\nconst mapStateToProps = state => ({\r\n\t...state.auth,\r\n\temail: state.auth.email,\r\n\tpassword: state.auth.password,\r\n\tpasswordConfirm: state.auth.passwordConfirm,\r\n\terrors: state.auth.errors\r\n});\r\n\r\n// Action Creators\r\nconst mapDispatchToProps = dispatch => ({\r\n\tcloseError: (index) => dispatch({ type: AUTH.CLOSE_ERROR, index: index }),\r\n\tonLoad: () => dispatch({ type: LOAD_PAGE.SIGNUP }),\r\n\tonUnload: () => dispatch({ type: UNLOAD_PAGE.SIGNUP }),\r\n\tonChangeEmail: value => {\r\n\t\tconst key = 'email';\r\n\t\tif (value.length === 0) {\r\n\t\t\tdispatch(AUTH.FieldError(key, 'Email cannot be blank!', 'is-danger', value));\r\n\t\t} else if (!(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(String(value).toLowerCase()))) {\r\n\t\t\tdispatch(AUTH.FieldError(key, 'Must be a proper email! Ex. elon@spacex.com', 'is-danger', value));\r\n\t\t} else {\r\n\t\t\tdispatch({ type: AUTH.UPDATE_FIELD, key: key, value: value });\r\n\t\t}\r\n\t},\r\n  onChangePassword: value => {\r\n\t\tconst key = 'password';\r\n\t\t\tif (value.length === 0) {\r\n\t\t\t\tdispatch(AUTH.FieldError(key, 'Password cannot be blank!', 'is-danger', value));\r\n\t\t\t} else if (value.length > 16 || value.length < 6) {\r\n\t\t\t\tdispatch(AUTH.FieldError(key, 'Password length must be between 6-16 characters!', 'is-warning', value));\r\n\t\t\t} else {\r\n\t\t\t\tdispatch({ type: AUTH.UPDATE_FIELD, key: key, value: value })\r\n\t\t\t}\r\n\t},\r\n  onChangePasswordConfirm: (password, passwordConfirm) => {\r\n\tconst key = 'passwordConfirm';\r\n\t\tif (passwordConfirm.length === 0) {\r\n\t\t\tdispatch(AUTH.FieldError(key, 'Password cannot be blank', 'is-danger', passwordConfirm));\r\n\t\t} else if (passwordConfirm.length > 16 || passwordConfirm.length < 6) {\r\n\t\t\tdispatch(AUTH.FieldError(key, 'Password length must be between 6-16 characters!', 'is-warning', passwordConfirm));\r\n\t\t} else if (password !== passwordConfirm) {\r\n\t\t\tdispatch(AUTH.FieldError(key, 'Passwords must match!', 'is-danger', passwordConfirm));\r\n\t\t} else {\r\n\t\t\tdispatch({ type: AUTH.UPDATE_FIELD, key: key, value: passwordConfirm })\r\n\t\t}\r\n\t},\r\n\thandleSubmit: (email, password, passwordConfirm) => {\r\n\t\tconst payload = agent.Auth.signup(email, password, passwordConfirm);\r\n\t\tconsole.log('PAYLOAD', payload);\r\n\t\tdispatch({ type: AUTH.SIGNUP, payload })\r\n\t}\r\n});\r\n\r\nexport class Signup extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\t// Grab the input on input Change Events\r\n\t\tthis.onChangeEmail = ev => this.props.onChangeEmail(ev.target.value);\r\n\t\tthis.onChangePassword =  ev => this.props.onChangePassword(ev.target.value);\r\n\t\tthis.onChangePasswordConfirm =  ev =>this.props.onChangePasswordConfirm(this.props.password.value, ev.target.value);\r\n\r\n\t\t// Form Submit Handling\r\n\t\tthis.submitForm = (email, password, passwordConfirm) => ev => {\r\n\t\t\tev.preventDefault();\r\n\t\t\tthis.props.handleSubmit(email, password, passwordConfirm);\r\n\t\t}\r\n\t}\r\n\tcomponentWillMount() {\r\n\t\tthis.props.onLoad();\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.onUnload();\r\n\t}\r\n\r\n  render() {\r\n\t\tconst email = this.props.email.value;\r\n    const password = this.props.password.value;\r\n    const passwordConfirm = this.props.passwordConfirm.value;\r\n    return (\r\n      <section id=\"signup\" className=\"hero is-light is-fullheight\">\r\n        <div className=\"hero-body\">\r\n\t\t\t\t\t<div className=\"columns is-centered\" style={{flexGrow: 1}}>\r\n\t\t\t\t\t\t<div className=\"column is-half\">\r\n\t\t\t\t\t\t\t<ErrorList\r\n\t\t\t\t\t\t\t\thandleClose={this.props.closeError}\r\n\t\t\t\t\t\t\t\terrors={this.props.errors} />\r\n\t\t\t\t\t\t\t<h1 className=\"title is-1\">Sign Up</h1>\r\n\t\t\t\t\t\t\t<form onSubmit={this.submitForm(email, password, passwordConfirm)}>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tkey={'email'}\r\n\t\t\t\t\t\t\t\t\ttype={'text'}\r\n\t\t\t\t\t\t\t\t\tvalue={this.props.email.value}\r\n\t\t\t\t\t\t\t\t\tplaceholder={'Enter your email'}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChangeEmail}\r\n\t\t\t\t\t\t\t\t\tinputState={this.props.email.inputState}\r\n\t\t\t\t\t\t\t\t\tmessage={this.props.email.message}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tkey={'password'}\r\n\t\t\t\t\t\t\t\t\ttype={'password'}\r\n\t\t\t\t\t\t\t\t\tvalue={this.props.password.value}\r\n\t\t\t\t\t\t\t\t\tplaceholder={'Enter your password'}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChangePassword}\r\n\t\t\t\t\t\t\t\t\tinputState={this.props.password.inputState}\r\n\t\t\t\t\t\t\t\t\tmessage={this.props.password.message}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tkey={'passwordConfirm'}\r\n\t\t\t\t\t\t\t\t\ttype={'password'}\r\n\t\t\t\t\t\t\t\t\tvalue={this.props.passwordConfirm.value}\r\n\t\t\t\t\t\t\t\t\tplaceholder={'Re-enter password'}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChangePasswordConfirm}\r\n\t\t\t\t\t\t\t\t\tinputState={this.props.passwordConfirm.inputState}\r\n\t\t\t\t\t\t\t\t\tmessage={this.props.passwordConfirm.message}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div className=\"field is-grouped\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"control\">\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={'button is-primary' + (this.props.inProgress ? ' is-loading': '') + (this.props.email.valid && this.props.password.valid && this.props.passwordConfirm.valid ? '' : ' is-outlined')}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.submitForm}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={(this.props.email.valid && this.props.password.valid && this.props.passwordConfirm.valid) ? false : 'disabled'}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"or\">or</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"control\">\r\n\t\t\t\t\t\t\t\t\t\t<Link className={'button is-text'} to=\"/login\">\r\n\t\t\t\t\t\t\t\t\t\t\tLog In\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n                  </p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Signup);\r\n","import React, {\tComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Modal from '../../components/Modal';\r\n\r\nimport agent from '../../agent';\r\n\r\nimport {\r\n  LOAD_PAGE,\r\n  UNLOAD_PAGE,\r\n  ROOMS\r\n} from '../../actions';\r\n\r\nconst mapStateToProps = state => ({\r\n  yourRooms: state.rooms.yourRooms,\r\n  userId: state.common.currentUser ? state.common.currentUser.id : null,\r\n  loading: state.rooms.loading,\r\n  reload: state.rooms.reload\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onLoad: (userId) => {\r\n    const payload = agent.Rooms.roomByUserId(userId);\r\n    dispatch({ type: LOAD_PAGE.YOURROOMS, payload })\r\n  },\r\n  onUnload: () => dispatch({ type: UNLOAD_PAGE.YOURROOMS }),\r\n  closeError: (index) => dispatch({ type: ROOMS.CLOSE_ERROR, index: index }),\r\n  deleteRoom: (id) => {\r\n    const payload = agent.Rooms.deleteRoom(id);\r\n    dispatch({ type: ROOMS.DELETE, payload });\r\n  }\r\n});\r\n\r\nclass YourRooms extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      isModalActive: false,\r\n      roomId: ''\r\n    };\r\n\r\n    this.closeModal = () => {\r\n      this.setState({isModalActive: false, roomId: ''});\r\n    };\r\n\r\n    this.activateModal = (roomId) => {\r\n      this.setState({isModalActive: true, roomId: roomId});\r\n    };\r\n\r\n    this.editRoom = id => this.props.editRoom(id);\r\n    this.deleteRoom = id => this.props.deleteRoom(id);\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.reload === true) {\r\n      this.props.onLoad(this.props.userId);\r\n      this.setState({isModalActive: false});\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(this.props);\r\n    this.props.onLoad(this.props.userId);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onUnload();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n\t\t\t<section id=\"yourRooms\" className=\"hero is-light is-bold is-fullheight\">\r\n        <Modal\r\n          isActive={this.state.isModalActive}\r\n          isLoading={this.props.loading}\r\n          content={'Are you sure you would like to cancel this booking?'}\r\n          confirmText={'Confirm'}\r\n          onClose={this.closeModal}\r\n          onClickConfirm={() => this.props.deleteRoom(this.state.roomId)}\r\n        />\r\n\t\t\t\t<div className=\"hero-body\">\r\n\t\t\t\t\t<div className=\"container has-text-centered\">\r\n\t\t\t\t\t\t<h2 className=\"title is-2\">Your Rooms</h2>\r\n\t\t\t\t\t\t<div className=\"rooms\">\r\n\t\t\t\t\t\t\t{this.props.yourRooms.length > 0 ? (\r\n\t\t\t\t\t\t\t\tthis.props.yourRooms.map((room, index) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"box\" key={index}>\r\n                      <figure className=\"image\">\r\n                        <img src={'http://localhost:3001/api/uploads/' + room.featuredImageId} alt=\"Placeholder\" />\r\n                      </figure>\r\n                      <div className=\"details\">\r\n                        <h5 className=\"title is-5\">{room.title}</h5>\r\n                        <h6 className=\"subtitle room-type is-6\">{room.roomType} | {room.propertyType}</h6>\r\n                      </div>\r\n                      <p className=\"buttons\">\r\n                        <Link to={'/your-rooms/edit/'+room.id} className=\"button is-info\"><span>Edit Room</span></Link>\r\n                        <button onClick={() => this.activateModal(room.id)} className=\"button is-danger is-outlined\">\r\n                          <span className=\"icon\">\r\n                            <i className=\"fa fa-exclamation-triangle\"></i>\r\n                          </span>\r\n                          <span>Delete</span>\r\n                        </button>\r\n                      </p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}, this)\r\n\t\t\t\t\t\t\t) : (\r\n                <div className=\"box has-text-centered\" style={{flexDirection: 'column'}}>\r\n                  <p className=\"content\">You haven't added any rooms!</p>\r\n                  <Link to=\"/your-rooms/add\" className=\"button is-info\">Add A Room</Link>\r\n                </div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(YourRooms);\r\n","module.exports = \"<!DOCTYPE html>\\r\\n<html lang=\\\"en\\\" class=\\\"has-navbar-fixed-top\\\">\\r\\n  <head>\\r\\n    <meta charset=\\\"utf-8\\\">\\r\\n\\t  <meta name=\\\"apple-mobile-web-app-capable\\\" content=\\\"yes\\\">\\r\\n\\t  <meta name=\\\"apple-touch-fullscreen\\\" content=\\\"yes\\\">\\r\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1, shrink-to-fit=no\\\">\\r\\n    <meta name=\\\"theme-color\\\" content=\\\"#000000\\\">\\r\\n    <link rel=\\\"manifest\\\" href=\\\"/static/manifest.json\\\">\\r\\n    <link rel=\\\"shortcut icon\\\" href=\\\"/static/favicon.ico.png\\\">\\r\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"/static/main.css\\\">\\r\\n    <link rel=\\\"stylesheet\\\" href=\\\"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\\\">\\r\\n    <title>Bed'N'Blockchain</title>\\r\\n  </head>\\r\\n\\t<body>\\r\\n\\t  <div id=\\\"root\\\"><!-- CONTENT --></div>\\r\\n\\t  <script type=\\\"text/javascript\\\">\\r\\n\\t    window.initialStoreData = \\\"-- STORES --\\\";\\r\\n\\t  </script>\\r\\n\\t  <script type=\\\"text/javascript\\\">\\r\\n\\t    window.CONFIG = \\\"-- CONFIG --\\\";\\r\\n\\t  </script>\\r\\n\\t  <script src=\\\"/client.js\\\"></script>\\r\\n\\t</body>\\r\\n</html>\\r\\n\";","// Grab Requests Agent so we can add the users token if found.\r\nimport agent from './agent';\r\n\r\n// Actions\r\nimport {\r\n  APP,\r\n  ASYNC,\r\n  AUTH\r\n} from './actions';\r\n\r\n// Allow an action to a Promise\r\nconst promiseMiddleware = store => next => action => {\r\n\tconsole.log(action);\r\n\t// If the action has a payload that is a promise.\r\n  if (isPromise(action.payload)) {\r\n\t\t// Tell react that we started an ASYNC action with it's subtype.\r\n    store.dispatch({ type: ASYNC.START, subtype: action.type });\r\n    const currentView = store.getState().viewChangeCounter;\r\n\r\n\t\t// Check if the action requested to skipTracking\r\n    const skipTracking = action.skipTracking;\r\n\r\n\t\t// Await the response from the promise\r\n    action.payload.then(\r\n      res => {\r\n        const currentState = store.getState()\r\n        if (!skipTracking && currentState.viewChangeCounter !== currentView) {\r\n          return;\r\n        }\r\n        console.log('RESULT', res);\r\n\r\n\t\t\t\t// Grab a known payload if it exists.\r\n        action.payload = (res.payload || res.body);\r\n\r\n\t\t\t\t// Tell the react the request finished.\r\n        store.dispatch({ type: ASYNC.END, subtype: action.type, promise: action.payload });\r\n\r\n\t\t\t\t// Send an error to react/redux.\r\n        if (res.error) {\r\n        \taction.error = true;\r\n          action.errors = res.errors;\r\n          if (action.errors[0] === 'Invalid Token') {\r\n\t\t\t\t\t\taction.errors[0] = 'You\\'ve been signed out!';\r\n\t\t\t\t\t\tstore.dispatch({ type: APP.DELETE_TOKEN });\r\n          }\r\n          store.dispatch({ type: ASYNC.ERROR, subtype: action.type, errors: action.errors });\r\n        } else {\r\n\t\t\t\t\tstore.dispatch(action);\r\n\t\t\t\t}\r\n      },\r\n      error => {\r\n        const currentState = store.getState()\r\n        if (!skipTracking && currentState.viewChangeCounter !== currentView) {\r\n          return\r\n        }\r\n        console.log('ERROR', error);\r\n        action.error = true;\r\n\t\t\t\taction.errors = ['A connection error occured! If this continues, please report it!'];\r\n\t\t\t\taction.payload = {error: action.error, errors: action.errors};\r\n\t\t\t\tstore.dispatch({ type: ASYNC.END, subtype: action.type, promise: action.payload });\r\n        store.dispatch({ type: ASYNC.CONNECTION_ERROR, errors: action.errors });\r\n      }\r\n    );\r\n\t} else {\r\n\t\tnext(action);\r\n\t}\r\n};\r\n\r\n// Ensure the user's token was removed on logout, and added on login.\r\nconst localStorageMiddleware = store => next => action => {\r\n\tif (action.type === AUTH.SIGNUP || action.type === AUTH.LOGIN) {\r\n    if (!action.error) {\r\n      window.localStorage.setItem('jwt', action.payload.user.token);\r\n\t\t\taction.token = action.payload.user.token;\r\n      agent.setToken(action.payload.user.token);\r\n    }\r\n  } else if (action.type === AUTH.LOGOUT || action.type === APP.DELETE_TOKEN) {\r\n    window.localStorage.setItem('jwt', '');\r\n    agent.setToken(null);\r\n  }\r\n  next(action);\r\n};\r\n\r\nfunction isPromise(v) {\r\n  return v && typeof v.then === 'function';\r\n}\r\n\r\nexport { promiseMiddleware, localStorageMiddleware }\r\n","import {\r\n  AUTH,\r\n  ASYNC,\r\n  LOAD_PAGE,\r\n  UNLOAD_PAGE\r\n} from '../actions';\r\n\r\nconst defaultInputState = {\r\n  value: '',\r\n  message: '',\r\n  inputState: '',\r\n  valid: false\r\n};\r\n\r\nconst defaultState = {\r\n  email: {...defaultInputState},\r\n  password: {...defaultInputState},\r\n  passwordConfirm: {...defaultInputState},\r\n  inProgress: false,\r\n  errors: []\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n  switch (action.type) {\r\n\t\tcase LOAD_PAGE.LOGIN:\r\n\t\tcase LOAD_PAGE.SIGNUP:\r\n\t\t\treturn defaultState;\r\n    case AUTH.LOGIN:\r\n    case AUTH.SIGNUP:\r\n      return {\r\n        ...state,\r\n        inProgress: false,\r\n        errors: action.error ? action.payload.errors : null\r\n      };\r\n    case ASYNC.START:\r\n      if (action.subtype === AUTH.LOGIN || action.subtype === AUTH.SIGNUP) {\r\n        return {...state, inProgress: true, errors: null};\r\n      }\r\n      break;\r\n    case ASYNC.END:\r\n      if (action.subtype === AUTH.LOGIN || action.subtype === AUTH.SIGNUP) {\r\n        return {...state, inProgress: false};\r\n      }\r\n      break;\r\n    case AUTH.CLOSE_ERROR:\r\n      return {...state, errors: state.errors.filter((item, index) => action.index !== index)};\r\n    case AUTH.FIELD_ERROR:\r\n      return {...state,\r\n        [action.key]: {\r\n          message: action.message,\r\n          inputState: action.inputState,\r\n          value: action.value,\r\n          valid: false\r\n        }\r\n      };\r\n    case AUTH.UPDATE_FIELD:\r\n      return { ...state,\r\n        [action.key]: {\r\n          value: action.value,\r\n          inputState: '',\r\n          message: '',\r\n          valid: true\r\n        }\r\n      };\r\n    case ASYNC.ERROR:\r\n      if (action.subtype === AUTH.SIGNUP || action.subtype === AUTH.LOGIN) {\r\n        return {...state, errors: action.errors};\r\n      }\r\n      break;\r\n\t\tcase UNLOAD_PAGE.LOGIN:\r\n\t\tcase UNLOAD_PAGE.SIGNUP:\r\n\t\t\treturn defaultState;\r\n    default:\r\n      return state;\r\n  }\r\n  return state;\r\n};\r\n","import {\r\n  ASYNC,\r\n  LOAD_PAGE,\r\n  UNLOAD_PAGE,\r\n  BOOKINGS\r\n} from '../actions';\r\n\r\nconst defaultState = {\r\n  reload: false,\r\n\terrors: null,\r\n  yourBookings: [],\r\n\tloading: false\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case LOAD_PAGE.BOOKINGS:\r\n      return {\r\n        ...state,\r\n        reload: false,\r\n        yourBookings: action.payload.bookings ? action.payload.bookings : []\r\n      };\r\n    case ASYNC.START:\r\n      if (action.subtype === BOOKINGS.DELETE) {\r\n        return {...state,\r\n          loading: true\r\n        };\r\n      }\r\n      return {...state};\r\n    case ASYNC.END:\r\n      return {...state,\r\n        loading: false\r\n      };\r\n    case BOOKINGS.DELETE:\r\n      return {...state,\r\n        reload: action.payload.error ? false : true,\r\n        errors: action.payload.error ? action.payload.errors : null\r\n      };\r\n    case UNLOAD_PAGE.BOOKINGS:\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  APP,\r\n  ASYNC,\r\n  AUTH,\r\n  ROOMS\r\n} from '../actions';\r\n\r\nconst defaultState = {\r\n  appName: \"Bed'N'Blockchain\",\r\n  token: null,\r\n  viewChangeCounter: 0,\r\n\terrors: [],\r\n  search: {\r\n    loading: false,\r\n    value: '',\r\n    results: []\r\n  }\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n  switch (action.type) {\r\n\t\tcase APP.CLOSE_ERROR:\r\n\t\t  return {\r\n\t\t\t\t...state,\r\n\t\t\t\terrors: state.errors.filter((item, index) => action.index !== index)\r\n\t\t\t};\r\n\t\tcase ASYNC.CONNECTION_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrors: action.errors || []\r\n\t\t\t};\r\n\t\tcase ASYNC.ERROR:\r\n\t\t\tif (action.subtype === APP.LOAD) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\ttoken: null,\r\n\t\t\t\t\tappLoaded: true,\r\n\t\t\t\t\tcurrentUser: null,\r\n\t\t\t\t\terrors: action.errors\r\n\t\t\t\t};\r\n\t\t\t}\r\n      return {...state};\r\n    case APP.LOAD:\r\n      return {\r\n        ...state,\r\n        token: action.token || null,\r\n        appLoaded: true,\r\n        currentUser: action.payload ? action.payload.user : null,\r\n\t\t\t\terrors: action.error ? action.errors : []\r\n      };\r\n    case APP.REDIRECT:\r\n      return { ...state, redirectTo: null };\r\n\t\tcase AUTH.LOGOUT:\r\n\t\t\treturn { ...state, redirectTo: '/', token: null, currentUser: null };\r\n    case ROOMS.ADD:\r\n      return {...state,\r\n        redirectTo: action.error ? null : '/your-rooms'\r\n      };\r\n    case AUTH.LOGIN:\r\n    case AUTH.SIGNUP:\r\n      return {\r\n        ...state,\r\n        redirectTo: action.error ? null : '/bookings',\r\n        token: action.error ? null : action.payload.user.token,\r\n        currentUser: action.error ? null : action.payload.user\r\n      };\r\n    default:\r\n      return {...state};\r\n  }\r\n};\r\n","import {\r\n  LOAD_PAGE,\r\n  UNLOAD_PAGE\r\n} from '../actions';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case LOAD_PAGE.HOME:\r\n      return state;\r\n    case UNLOAD_PAGE.HOME:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport { routerReducer } from 'react-router-redux';\r\nimport auth from './auth';\r\nimport common from './common';\r\nimport home from './home';\r\nimport rooms from './rooms';\r\nimport roomEditor from './roomEditor';\r\nimport bookings from './bookings';\r\n// import profile from './profile';\r\n// import settings from './settings';\r\n\r\nexport default combineReducers({\r\n  auth,\r\n  common,\r\n  home,\r\n  rooms,\r\n  roomEditor,\r\n\tbookings,\r\n  // profile,\r\n  // settings,\r\n  router: routerReducer\r\n});\r\n","import {\r\n\tASYNC,\r\n\tLOAD_PAGE,\r\n\tUNLOAD_PAGE,\r\n\tROOMEDITOR,\r\n\tROOMS\r\n} from '../actions';\r\n\r\nconst defaultInputState = {\r\n  value: '',\r\n  message: '',\r\n  inputState: '',\r\n  valid: false\r\n};\r\n\r\nconst defaultState = {\r\n\tmode: 'add',\r\n\tmessage: '',\r\n  title: {...defaultInputState},\r\n  desc: {...defaultInputState},\r\n  propertyType: {...defaultInputState},\r\n\troomType: {...defaultInputState},\r\n\tlocation: {...defaultInputState,\r\n\t\tloading: false,\r\n\t\tresults: [],\r\n\t\tvalue: {lat: 0, lng: 0, formatted_address: ''}\r\n\t},\r\n\tprice: {...defaultInputState},\r\n\tguests: {value: {adults: 0, children: 0}},\r\n\tfeaturedImage: {\r\n\t\t...defaultInputState,\r\n\t\tvalue: {\r\n\t\t\tfile_id: '',\r\n\t\t\timage: '',\r\n\t\t\tfile_name: ''\r\n\t\t},\r\n\t\tloading: false,\r\n\t\tmessage: '',\r\n\t\tinputState: '',\r\n\t\tvalid: false\r\n\t},\r\n\tdates: {\r\n\t\tvalue: [],\r\n\t\tmessage: '',\r\n\t\tinputState: '',\r\n\t\ttypes: 'range',\r\n\t\tvalid: false,\r\n\t\tactive: false\r\n\t}\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n  switch (action.type) {\r\n\t\tcase ROOMS.ADD:\r\n\t\t\treturn {...state,\r\n\t\t\t\tinProgress: false,\r\n\t\t\t\terrors: action.error ? action.payload.errors : null\r\n\t\t\t};\r\n\r\n\t\tcase ROOMS.EDIT:\r\n\t\t\treturn {...state,\r\n\t\t\t\tinProgress: false,\r\n\t\t\t\terrors: action.error ? action.payload.errors : null,\r\n\t\t\t\tmessage: 'Room Updated Successfully!'\r\n\t\t\t};\r\n    case LOAD_PAGE.ROOMEDITOR:\r\n\t\t\tif (action.mode === 'edit') {\r\n\t\t\t\treturn {\r\n\t        ...state,\r\n\t        mode: 'edit',\r\n\t\t\t\t\ttitle: {...state.title,\r\n\t\t\t\t\t\tvalue: action.payload.room.title,\r\n\t\t\t\t\t\tvalid: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdesc: {...state.desc,\r\n\t\t\t\t\t\tvalue: action.payload.room.description,\r\n\t\t\t\t\t\tvalid: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpropertyType: {...state.propertyType,\r\n\t\t\t\t\t\tvalue: action.payload.room.propertyType,\r\n\t\t\t\t\t\tvalid: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\troomType: {...state.roomType,\r\n\t\t\t\t\t\tvalue: action.payload.room.roomType,\r\n\t\t\t\t\t\tvalid: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlocation: {...state.location,\r\n\t\t\t\t\t\tvalue: action.payload.room.location,\r\n\t\t\t\t\t\tvalid: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tprice: {...state.price,\r\n\t\t\t\t\t\tvalue: action.payload.room.price,\r\n\t\t\t\t\t\tvalid: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tguests: {...state.guests,\r\n\t\t\t\t\t\tvalue: action.payload.room.guests,\r\n\t\t\t\t\t\tvalid: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfeaturedImage: {...state.featuredImage,\r\n\t\t\t\t\t\tvalue: {...state.featuredImage.value,\r\n\t\t\t\t\t\t\tfile_id: action.payload.room.featuredImageId\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tvalid: true\r\n\t\t\t\t\t}\r\n\r\n\t      };\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t        ...state,\r\n\t        mode: 'add'\r\n\t      };\r\n\t\t\t}\r\n\t\tcase ROOMEDITOR.INCREMENT_GUESTS:\r\n\t\t\treturn {...state,\r\n\t\t\t\tguests: {...state.guests,\r\n\t\t\t\t\tvalue: {...state.guests.value,\r\n\t\t\t\t\t\t[action.guestType]: ++state.guests.value[action.guestType]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase ROOMEDITOR.DECREMENT_GUESTS:\r\n\t\t\treturn {...state,\r\n\t\t\t\tguests: {...state.guests,\r\n\t\t\t\t\tvalue: {...state.guests.value,\r\n\t\t\t\t\t\t[action.guestType]: (state.guests.value[action.guestType] <= 0 ? 0 : --state.guests.value[action.guestType])\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase ROOMEDITOR.FIELD_ERROR:\r\n      return { ...state,\r\n        [action.key]: {\r\n          value: action.value,\r\n          inputState: action.inputState,\r\n          message: action.message,\r\n          valid: false\r\n        }\r\n      };\r\n    case ROOMEDITOR.UPDATE_FIELD:\r\n\t\t\tif (action.key === 'location') {\r\n\t\t\t\treturn { ...state,\r\n\t        location: {...state.location,\r\n\t          value: {...state.location.value, formatted_address: action.value},\r\n\t          inputState: '',\r\n\t          message: '',\r\n\t          valid: true\r\n\t        }\r\n\t      };\r\n\t\t\t} else {\r\n\t\t\t\treturn { ...state,\r\n\t        [action.key]: {\r\n\t          value: action.value,\r\n\t          inputState: '',\r\n\t          message: '',\r\n\t          valid: true\r\n\t        }\r\n\t      };\r\n\t\t\t}\r\n\t\tcase ROOMEDITOR.FETCH_GMAPS_RESULTS:\r\n\t\t\treturn { ...state,\r\n\t\t\t\tlocation: {...state.location,\r\n\t\t\t\t\tresults: action.payload.results\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase ROOMEDITOR.UPDATE_LOCATION_FROM_SUGGESTION:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlocation: {...state.location,\r\n\t\t\t\t\tresults: [],\r\n\t\t\t\t\tvalue: {\r\n\t\t\t\t\t\tformatted_address: action.value.formatted_address,\r\n\t\t\t\t\t\tlat: action.value.lat,\r\n\t\t\t\t\t\tlng: action.value.lng,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase ROOMEDITOR.UPLOAD_FEATURED_IMAGE:\r\n\t\t\treturn {...state,\r\n\t\t\t\tfeaturedImage: {...state.featuredImage,\r\n\t\t\t\t\tvalue: {...state.featuredImage.value,\r\n\t\t\t\t\t\tfile_id: action.payload.file.file_id,\r\n\t\t\t\t\t\tfile_name: action.payload.file.file_name,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tinputState: 'is-success',\r\n\t\t\t\t\tmessage: 'Upload Successful!',\r\n\t\t\t\t\tvalid: true\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\tcase ASYNC.START:\r\n\t\t\tif (action.subtype === ROOMEDITOR.FETCH_GMAPS_RESULTS) {\r\n\t\t\t\treturn { ...state,\r\n\t\t\t\t\tlocation: {...state.location,\r\n\t\t\t\t\t\tloading: true\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t} else if (action.subtype === ROOMEDITOR.UPLOAD_FEATURED_IMAGE) {\r\n\t\t\t\treturn {...state,\r\n\t\t\t\t\tfeaturedImage: {...state.featuredImage,\r\n\t\t\t\t\t\tloading: true,\r\n\t\t\t\t\t\tmessage: 'Uploading...'\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn {...state};\r\n\t\t\t}\r\n\t\tcase ASYNC.END:\r\n\t\t\treturn { ...state,\r\n\t\t\t\tlocation: {...state.location,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t},\r\n\t\t\t\tfeaturedImage: {...state.featuredImage,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase ASYNC.ERROR:\r\n\t\t\tif (action.subtype === ROOMEDITOR.FETCH_GMAPS_RESULTS) {\r\n\t\t\t\treturn {...state,\r\n\t\t\t\t\terrors: action.errors\r\n\t\t\t\t};\r\n\t\t\t} else if (action.subtype === ROOMEDITOR.UPLOAD_FEATURED_IMAGE) {\r\n\t\t\t\treturn {...state,\r\n\t\t\t\t\terrors: action.errors\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\t  case UNLOAD_PAGE.ROOMEDITOR:\r\n      return defaultState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  ASYNC,\r\n  LOAD_PAGE,\r\n  UNLOAD_PAGE,\r\n  ROOMS\r\n} from '../actions';\r\n\r\nconst defaultState = {\r\n  reload: false,\r\n  roomsList: [],\r\n  currentRoomInView: null,\r\n  yourRooms: [],\r\n  errors: null,\r\n  loading: false,\r\n  guests: {\r\n    value: {adults: 0, children: 0},\r\n    message: '',\r\n    inputState: '',\r\n    valid: false\r\n  },\r\n\tdates: {\r\n\t\tvalue: [],\r\n\t\tmessage: '',\r\n\t\tinputState: '',\r\n\t\tvalid: false,\r\n\t\tactive: false\r\n\t}\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case LOAD_PAGE.ROOM:\r\n      return {\r\n        ...state,\r\n        reload: false,\r\n        currentRoomInView: action.payload.room\r\n      };\r\n    case LOAD_PAGE.HOME:\r\n    case LOAD_PAGE.ROOMS:\r\n      return {\r\n        ...state,\r\n        reload: false,\r\n        currentRoomInView: null,\r\n        roomsList: action.payload.rooms ? action.payload.rooms : []\r\n      };\r\n    case LOAD_PAGE.YOURROOMS:\r\n      return {\r\n        ...state,\r\n        reload: false,\r\n\t\t\t\tcurrentRoomInView: null,\r\n        yourRooms: action.payload.rooms ? action.payload.rooms : []\r\n      };\r\n\r\n    case ASYNC.START:\r\n      if (action.subtype === ROOMS.DELETE || action.subtype === ROOMS.BOOK) {\r\n        return {...state,\r\n          loading: true\r\n        };\r\n      }\r\n      return state;\r\n    case ASYNC.END:\r\n      return {...state,\r\n        loading: false,\r\n\t\t\t\treload: false\r\n      };\r\n\t\tcase ASYNC.CONNECTION_ERROR:\r\n\t\t\treturn {...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\treload: false\r\n\t\t\t};\r\n    case ROOMS.INCREMENT_GUESTS:\r\n\t\t\treturn {...state,\r\n\t\t\t\tguests: {...state.guests,\r\n\t\t\t\t\tvalue: {...state.guests.value,\r\n\t\t\t\t\t\t[action.guestType]: ++state.guests.value[action.guestType]\r\n\t\t\t\t\t},\r\n          valid: true\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase ROOMS.DECREMENT_GUESTS:\r\n\t\t\treturn {...state,\r\n\t\t\t\tguests: {...state.guests,\r\n\t\t\t\t\tvalue: {...state.guests.value,\r\n\t\t\t\t\t\t[action.guestType]: (state.guests.value[action.guestType] <= 0 ? 0 : --state.guests.value[action.guestType])\r\n\t\t\t\t\t},\r\n          valid: (state.guests.value.children > 0 || state.guests.value.adults > 0 ? true : false)\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase ROOMS.SELECT_DATES:\r\n\t\t\treturn {...state,\r\n\t\t\t\tdates: {...state.dates,\r\n\t\t\t\t\tvalue: action.dates\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase ROOMS.DELETE:\r\n    case ROOMS.BOOK:\r\n      return {...state,\r\n        // reload: action.payload.error ? false : true,\r\n        errors: action.payload.error ? action.payload.errors : null\r\n      };\r\n    case UNLOAD_PAGE.ROOMS:\r\n    case UNLOAD_PAGE.ROOM:\r\n    case UNLOAD_PAGE.YOURROOMS:\r\n      return {...state,\r\n        guests: {\r\n          value: {adults: 0, children: 0},\r\n          message: '',\r\n          inputState: '',\r\n          valid: false\r\n        }\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { applyMiddleware, createStore } from 'redux';\r\nimport { routerMiddleware } from 'react-router-redux'\r\nimport { promiseMiddleware, localStorageMiddleware } from './middleware';\r\nimport reducers from './reducers/';\r\n\r\nexport default function setupStore(history) {\r\n  const middleware = [\r\n    routerMiddleware(history),\r\n\t\tpromiseMiddleware,\r\n\t\tlocalStorageMiddleware\r\n  ];\r\n\r\n  if (process.env.NODE_ENV === 'development') {\r\n    const { composeWithDevTools } = require('redux-devtools-extension');\r\n\t\tconst { createLogger } = require('redux-logger');\r\n    const enhancer = composeWithDevTools(applyMiddleware(...middleware, createLogger()));\r\n    const store = createStore(reducers, enhancer);\r\n\r\n    if (module.hot) {\r\n      module.hot.accept('./reducers/', () => {\r\n        const nextRootReducer = require('./reducers/').default;\r\n        store.replaceReducer(nextRootReducer);\r\n      });\r\n    }\r\n\r\n    return store;\r\n  }\r\n\r\n  return applyMiddleware(...middleware)(createStore)(reducers);\r\n}\r\n","// extracted by mini-css-extract-plugin","const path = require('path');\r\nconst webpack = require('webpack');\r\nconst MiniCssExtractPlugin = require('mini-css-extract-plugin');\r\nconst autoprefixer = require('autoprefixer');\r\n\r\nmodule.exports = {\r\n  devtool: 'cheap-module-source-map',\r\n  target: 'web',\r\n\tmode: 'development',\r\n  entry: [\r\n    'babel-polyfill',\r\n    'webpack-hot-middleware/client?timeout=2000',\r\n    path.resolve('./client/index.js'),\r\n  ],\r\n  output: {\r\n    path: path.resolve('.build'),\r\n    filename: 'client.js',\r\n    publicPath: '/',\r\n  },\r\n  resolve: {\r\n    modules: [\r\n      path.resolve('../client'), // to resolve path liek '/components' on client\r\n      'node_modules',\r\n    ],\r\n  },\r\n  module: {\r\n    rules: [\r\n      {\r\n        test: /\\.js$/,\r\n        use: ['babel-loader'],\r\n        exclude: /node_modules/,\r\n      },\r\n      {\r\n        test: /\\.md$/,\r\n        use: 'raw-loader',\r\n      },\r\n      {\r\n        test: /\\.s?css$/,\r\n        use: [\r\n          MiniCssExtractPlugin.loader,\r\n          {\r\n            loader: 'css-loader'\r\n          },\r\n          {\r\n            loader: 'resolve-url-loader',\r\n          },\r\n          {\r\n            loader: 'sass-loader'\r\n          },\r\n          {\r\n            loader: 'postcss-loader',\r\n            options: {\r\n              autoprefixer: {\r\n                browsers: ['last 2 versions']\r\n              },\r\n              plugins: () => [\r\n                autoprefixer\r\n              ]\r\n            },\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        test: /\\.(png|jpg|jpeg|gif|woff|woff2|svg|eot|ttf|otf|wav|mp3)$/,\r\n        use: [\r\n          {\r\n            loader: 'file-loader',\r\n            options: {\r\n              name: '[path][name]_[hash:base64:5].[ext]',\r\n            },\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n  },\r\n  plugins: [\r\n    new MiniCssExtractPlugin({\r\n      filename: '[name].css',\r\n      chunkFilename: '[id].css'\r\n    }),\r\n    new webpack.HotModuleReplacementPlugin(),\r\n    new webpack.NamedModulesPlugin(),\r\n    new webpack.NoEmitOnErrorsPlugin(),\r\n    new webpack.DefinePlugin({\r\n      'process.env': {\r\n        NODE_ENV: JSON.stringify('development'),\r\n      },\r\n    }),\r\n  ],\r\n  stats: {\r\n    colors: true,\r\n    modules: false,\r\n    version: false,\r\n    hash: false,\r\n    timings: false,\r\n  },\r\n};\r\n","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nmodule.exports = function(updatedModules, renewedModules) {\r\n\tvar unacceptedModules = updatedModules.filter(function(moduleId) {\r\n\t\treturn renewedModules && renewedModules.indexOf(moduleId) < 0;\r\n\t});\r\n\tvar log = require(\"./log\");\r\n\r\n\tif (unacceptedModules.length > 0) {\r\n\t\tlog(\r\n\t\t\t\"warning\",\r\n\t\t\t\"[HMR] The following modules couldn't be hot updated: (They would need a full reload!)\"\r\n\t\t);\r\n\t\tunacceptedModules.forEach(function(moduleId) {\r\n\t\t\tlog(\"warning\", \"[HMR]  - \" + moduleId);\r\n\t\t});\r\n\t}\r\n\r\n\tif (!renewedModules || renewedModules.length === 0) {\r\n\t\tlog(\"info\", \"[HMR] Nothing hot updated.\");\r\n\t} else {\r\n\t\tlog(\"info\", \"[HMR] Updated modules:\");\r\n\t\trenewedModules.forEach(function(moduleId) {\r\n\t\t\tif (typeof moduleId === \"string\" && moduleId.indexOf(\"!\") !== -1) {\r\n\t\t\t\tvar parts = moduleId.split(\"!\");\r\n\t\t\t\tlog.groupCollapsed(\"info\", \"[HMR]  - \" + parts.pop());\r\n\t\t\t\tlog(\"info\", \"[HMR]  - \" + moduleId);\r\n\t\t\t\tlog.groupEnd(\"info\");\r\n\t\t\t} else {\r\n\t\t\t\tlog(\"info\", \"[HMR]  - \" + moduleId);\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar numberIds = renewedModules.every(function(moduleId) {\r\n\t\t\treturn typeof moduleId === \"number\";\r\n\t\t});\r\n\t\tif (numberIds)\r\n\t\t\tlog(\r\n\t\t\t\t\"info\",\r\n\t\t\t\t\"[HMR] Consider using the NamedModulesPlugin for module names.\"\r\n\t\t\t);\r\n\t}\r\n};\r\n","var logLevel = \"info\";\r\n\r\nfunction dummy() {}\r\n\r\nfunction shouldLog(level) {\r\n\tvar shouldLog =\r\n\t\t(logLevel === \"info\" && level === \"info\") ||\r\n\t\t([\"info\", \"warning\"].indexOf(logLevel) >= 0 && level === \"warning\") ||\r\n\t\t([\"info\", \"warning\", \"error\"].indexOf(logLevel) >= 0 && level === \"error\");\r\n\treturn shouldLog;\r\n}\r\n\r\nfunction logGroup(logFn) {\r\n\treturn function(level, msg) {\r\n\t\tif (shouldLog(level)) {\r\n\t\t\tlogFn(msg);\r\n\t\t}\r\n\t};\r\n}\r\n\r\nmodule.exports = function(level, msg) {\r\n\tif (shouldLog(level)) {\r\n\t\tif (level === \"info\") {\r\n\t\t\tconsole.log(msg);\r\n\t\t} else if (level === \"warning\") {\r\n\t\t\tconsole.warn(msg);\r\n\t\t} else if (level === \"error\") {\r\n\t\t\tconsole.error(msg);\r\n\t\t}\r\n\t}\r\n};\r\n\r\nvar group = console.group || dummy;\r\nvar groupCollapsed = console.groupCollapsed || dummy;\r\nvar groupEnd = console.groupEnd || dummy;\r\n\r\nmodule.exports.group = logGroup(group);\r\n\r\nmodule.exports.groupCollapsed = logGroup(groupCollapsed);\r\n\r\nmodule.exports.groupEnd = logGroup(groupEnd);\r\n\r\nmodule.exports.setLogLevel = function(level) {\r\n\tlogLevel = level;\r\n};\r\n","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n/*globals __resourceQuery */\r\nif (module.hot) {\r\n\tvar hotPollInterval = +__resourceQuery.substr(1) || 10 * 60 * 1000;\r\n\tvar log = require(\"./log\");\r\n\r\n\tvar checkForUpdate = function checkForUpdate(fromUpdate) {\r\n\t\tif (module.hot.status() === \"idle\") {\r\n\t\t\tmodule.hot\r\n\t\t\t\t.check(true)\r\n\t\t\t\t.then(function(updatedModules) {\r\n\t\t\t\t\tif (!updatedModules) {\r\n\t\t\t\t\t\tif (fromUpdate) log(\"info\", \"[HMR] Update applied.\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\trequire(\"./log-apply-result\")(updatedModules, updatedModules);\r\n\t\t\t\t\tcheckForUpdate(true);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function(err) {\r\n\t\t\t\t\tvar status = module.hot.status();\r\n\t\t\t\t\tif ([\"abort\", \"fail\"].indexOf(status) >= 0) {\r\n\t\t\t\t\t\tlog(\"warning\", \"[HMR] Cannot apply update.\");\r\n\t\t\t\t\t\tlog(\"warning\", \"[HMR] \" + err.stack || err.message);\r\n\t\t\t\t\t\tlog(\"warning\", \"[HMR] You need to restart the application!\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlog(\"warning\", \"[HMR] Update failed: \" + err.stack || err.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\tsetInterval(checkForUpdate, hotPollInterval);\r\n} else {\r\n\tthrow new Error(\"[HMR] Hot Module Replacement is disabled.\");\r\n}\r\n","module.exports = require(\"autoprefixer\");","module.exports = require(\"babel-polyfill\");","module.exports = require(\"bcrypt\");","module.exports = require(\"body-parser\");","module.exports = require(\"cors\");","module.exports = require(\"envalid\");","module.exports = require(\"express\");","module.exports = require(\"express-session\");","module.exports = require(\"express-validator/check\");","module.exports = require(\"express-validator/filter\");","module.exports = require(\"gridfs-stream\");","module.exports = require(\"history/createMemoryHistory\");","module.exports = require(\"http\");","module.exports = require(\"jsonwebtoken\");","module.exports = require(\"mini-css-extract-plugin\");","module.exports = require(\"moment\");","module.exports = require(\"mongoose\");","module.exports = require(\"mongoose-validators\");","module.exports = require(\"morgan\");","module.exports = require(\"multer\");","module.exports = require(\"passport\");","module.exports = require(\"passport-local\");","module.exports = require(\"path\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"react-router-redux\");","module.exports = require(\"react-router-transition\");","module.exports = require(\"redux\");","module.exports = require(\"redux-devtools-extension\");","module.exports = require(\"redux-logger\");","module.exports = require(\"superagent\");","module.exports = require(\"superagent-promise\");","module.exports = require(\"util\");","module.exports = require(\"uuid/v4\");","module.exports = require(\"webpack\");","module.exports = require(\"webpack-dev-middleware-webpack-2\");","module.exports = require(\"webpack-hot-middleware\");"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjtBA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;ACzDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AAAA;AAAA;;;;AAEA;;;;;;;;;;;;ACVA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAtBA;AACA;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AClDA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAxBA;AACA;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AACA;AA5BA;AACA;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AChHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAKA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAKA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACtLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA,SAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC5GA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AADA;AAMA;AACA;AAGA;AACA;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAfA;AACA;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAnBA;AACA;AAqBA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAlBA;AACA;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAZA;;;;;;;;;;;;AClHA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AAPA;AACA;AAUA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAHA;AACA;AAMA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AAPA;AACA;AAUA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AANA;AACA;AAQA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AANA;AACA;AAQA;AACA;AACA;AACA;AAKA;AACA;AAEA;AACA;AACA;AAIA;AACA;AAEA;AAnBA;AACA;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AANA;;;;;;;;;;;AC1GA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;;;;;;;;;;;AACA;;;AACA;;;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AADA;AADA;AAYA;;;;AAjBA;AACA;AADA;;;;;;;;;;;;;;;;;;;;;;;ACHA;AACA;AACA;;;;;;;;;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAKA;AACA;AACA;AACA;;;;AAfA;AACA;AAiBA;;;;;;;;;;;;;;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;AAQA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AADA;AADA;AAFA;AAWA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;;;;;;;;;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AACA;AAAA;AACA;AADA;AAYA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAoBA;AAGA;AAAA;AACA;AACA;AACA;AADA;AAGA;AAEA;AACA;AACA;AAAA;AAAA;AAHA;AAOA;AAbA;AAwBA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AATA;AAgBA;AACA;AAAA;AACA;AADA;AAMA;AACA;AAAA;AACA;AADA;AAQA;AAvFA;AA2FA;AACA;AAAA;AACA;AADA;AAlHA;AA2HA;;;;AA/HA;AACA;AAiIA;;;;;;;;;;;;AC3LA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;AChBA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AANA;AAUA;AACA;;;AAAA;AACA;AACA;;;AACA;AACA;AACA;;;AACA;AACA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AADA;AAKA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AADA;AANA;AADA;AAiBA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAJA;AAQA;AAAA;AAAA;AACA;AADA;AAfA;AADA;AAsBA;AACA;AACA;AAEA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAgBA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;AAiBA;AACA;AAEA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;AAiBA;AACA;AACA;AAAA;AACA;AAMA;AACA;AACA;AACA;AAVA;AAYA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAJA;AAZA;AAoBA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAhJA;AAkJA;;;;AA5KA;AACA;AA8KA;;;;;;;;;;;;;;;;;;;;;;;AClLA;AACA;AACA;;;;;;;;;;;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AAMA;;;;AATA;AACA;AAWA;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AADA;AAPA;AAFA;AAkBA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AADA;AAMA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AADA;AAMA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AAAA;AAAA;AAAA;AAAA;AALA;AAOA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AAGA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAxBA;AARA;AAdA;AAwDA;AACA;AACA;;;;;;;;;;;;AC/DA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;;;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AALA;AAAA;AACA;AAOA;;;;;AAIA;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAZA;AACA;AAiBA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;AAuBA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAGA;AACA;AACA;AACA;AACA;AACA;AAfA;AAkBA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AALA;AAOA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AARA;AADA;AADA;AAnDA;AAyEA;;;;AAjIA;AACA;AAmIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AAIA;AAAA;AACA;AAAA;AAAA;AADA;AAAA;AACA;AAGA;AACA;AACA;AAGA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AADA;AAeA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAJA;AADA;AADA;AADA;AAYA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAdA;AAJA;AAbA;AAsCA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAKA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AANA;AADA;AADA;AAiBA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AADA;AAGA;AALA;AAMA;AACA;;;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAPA;AAJA;AAeA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAKA;AANA;AAQA;AACA;AACA;AACA;AAHA;AATA;AAhBA;AAiCA;;;;AAlDA;AACA;AAoDA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AACA;AAMA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAVA;AAAA;AACA;AAYA;;;AACA;AAAA;AACA;AADA;AACA;AAEA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAjBA;AAkBA;AACA;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AANA;AAQA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AAKA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAJA;AAHA;AATA;AAqBA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AA3BA;AAFA;AADA;AATA;AAiDA;;;;AAvFA;AACA;AAyFA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;AACA;AAOA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAXA;AAAA;AACA;AAaA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AAAA;AAAA;AAFA;AAGA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AADA;AAKA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AADA;AANA;AADA;AADA;AAHA;AADA;AAFA;AAyBA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAgBA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAvBA;AAFA;AADA;AADA;AA1BA;AA+DA;;;;AArFA;AACA;AAuFA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AAAA;AAEA;AACA;AACA;AAJA;AAAA;AACA;AAMA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AAAA;AACA;AA8BA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AAHA;AACA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AARA;AAYA;AACA;AAdA;AAAA;AAAA;AAgBA;AACA;AAjBA;AAAA;AAAA;AAoBA;AACA;AArBA;AAAA;AAAA;AAwBA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AADA;AASA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAXA;AAnBA;AALA;AADA;AADA;AADA;AAkDA;AA7EA;AACA;AADA;AAAA;AACA;AA+EA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AACA;AAQA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;AACA;AAiBA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AAFA;AACA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAfA;AAgBA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AADA;AAFA;AASA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AANA;AAWA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AAUA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAlBA;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AAUA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAlBA;AA0BA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAFA;AAMA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AACA;AANA;AAAA;AAAA;AADA;AAYA;AAAA;AAAA;AAAA;AAAA;AAbA;AAtEA;AAwFA;AAAA;AAAA;AAAA;AAjGA;AADA;AADA;AAZA;AADA;AADA;AADA;AAVA;AAwIA;AACA;AACA;AACA;;;;AA/KA;AACA;AAiLA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AAKA;AACA;AAKA;AACA;AAcA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;AACA;AAcA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAQA;AACA;AAMA;AACA;AACA;AAHA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjIA;AAAA;AACA;AAmIA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBA;AAlBA;AAsCA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AADA;AAFA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAXA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAYA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAYA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAWA;AACA;AAbA;AAAA;AAAA;AADA;AA4BA;AAAA;AAAA;AAAA;AAAA;AA7BA;AA3IA;AAFA;AAFA;AADA;AADA;AAsLA;;;;AAnPA;AACA;AAqPA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AACA;AAKA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAVA;AAAA;AACA;AAYA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AAAA;AAAA;AAFA;AAGA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAFA;AAMA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAgBA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAvBA;AADA;AADA;AAPA;AAyCA;;;;AA/DA;AACA;AAiEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AAAA;AAEA;AACA;AACA;AAJA;AAAA;AACA;AAMA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlFA;AAAA;AACA;AAoFA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AARA;AAYA;AACA;AAdA;AAAA;AAAA;AAeA;AACA;AAhBA;AAAA;AAAA;AAmBA;AACA;AApBA;AAAA;AAAA;AAuBA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AALA;AADA;AADA;AADA;AAuDA;AAlFA;AACA;AADA;AAAA;AACA;AAoFA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AAAA;AAEA;AACA;AACA;AACA;AALA;AAAA;AACA;AAOA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxCA;AAAA;AACA;AA0CA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AARA;AAYA;AACA;AAdA;AAAA;AAAA;AAeA;AACA;AAhBA;AAAA;AAAA;AAmBA;AACA;AApBA;AAAA;AAAA;AAuBA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AADA;AASA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAXA;AA5BA;AALA;AADA;AADA;AADA;AA2DA;AAtFA;AACA;AADA;AAAA;AACA;AAwFA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AACA;AAMA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAVA;AAAA;AACA;AAYA;;;AACA;AAAA;AACA;AADA;AACA;AAEA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAjBA;AAkBA;AACA;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AANA;AAQA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAJA;AAFA;AARA;AAmBA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAzBA;AAFA;AADA;AATA;AA+CA;;;;AArFA;AACA;AAuFA;;;;;;;;;;;AC1HA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAvDA;AAAA;AACA;AAwDA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;AACA;AAaA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACtFA;AACA;AAMA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AAOA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AACA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlDA;AAoDA;AACA;;;;;;;;;;;;AC5EA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AA1BA;AA4BA;;;;;;;;;;;;AC3CA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AALA;AACA;AAWA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AAFA;AAIA;AACA;AAEA;AAFA;AAIA;AACA;AACA;AAEA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AA/CA;AAiDA;;;;;;;;;;;;ACrEA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;;;;;;;;ACXA;AACA;AAOA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAEA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAVA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AA1BA;AACA;AAmCA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AADA;AAGA;AAJA;AACA;AAhCA;AAuCA;AACA;AAEA;AAFA;AAIA;AACA;AACA;AACA;AACA;AADA;AADA;AAOA;AACA;AACA;AACA;AADA;AADA;AAOA;AACA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AADA;AAQA;AACA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AACA;AADA;AADA;AAKA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAFA;AAWA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAPA;AADA;AACA;AAWA;AACA;AACA;AACA;AACA;AADA;AADA;AAKA;AACA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AAJA;AAQA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAjLA;AAmLA;;;;;;;;;;;;;;;;ACvOA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AALA;AAbA;AACA;AAqBA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AAEA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAGA;AAJA;AADA;AAQA;AACA;AACA;AACA;AAGA;AAJA;AADA;AAQA;AACA;AACA;AACA;AADA;AADA;AAKA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AADA;AACA;AAQA;AACA;AAnFA;AAqFA;;;;;;;;;;;;ACnHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC7BA;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAEA;AAHA;AAMA;AACA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AAFA;AAKA;AACA;AAGA;AADA;AAIA;AADA;AAIA;AADA;AAIA;AACA;AACA;AACA;AADA;AAGA;AAAA;AAAA;AAJA;AAFA;AAbA;AA2BA;AACA;AAEA;AACA;AACA;AADA;AAFA;AAHA;AArCA;AAkDA;AAEA;AACA;AAFA;AAQA;AACA;AADA;AADA;AAMA;AACA;AACA;AACA;AACA;AACA;AALA;AApFA;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpCA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;A","sourceRoot":""}